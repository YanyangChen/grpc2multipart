================== testing results ==================
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:29:14.551 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:29:14.565 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:29:14.601 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:29:14.615 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:29:14.620 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:29:14.626 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:29:14.629 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:29:14.634 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:29:14.698 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:29:14.748 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:29:14.763 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:14.928 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:29:14.928 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:29:14.941 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
16:29:14.954 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
16:29:15.010 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
16:29:15.036 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:15.038 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 16:29:15.354  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 29570 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 16:29:15.355  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 16:29:17.532  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.455 seconds (JVM running for 3.935)
2022-12-10 16:29:17.537  INFO 29570 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 16:29:17.668  INFO 29570 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-10 16:29:17.669  INFO 29570 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 16:29:17.670  INFO 29570 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 16:29:18.622  INFO 29570 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-10 16:29:18.625  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x5b59c3d], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-10 16:29:18.631  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-10 16:29:18.644  INFO 29570 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-10 16:29:18.645  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3eb0fd88], To[mock:middle], To[mock://middle]]]
2022-12-10 16:29:18.650  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-10 16:29:18.656  INFO 29570 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[log:org.apache.camel.example?level=INFO]] --> after [To[mock://result]]
2022-12-10 16:29:18.657  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x4331be30], To[mock:end], To[log:org.apache.camel.example?level=INFO], To[mock://result]]]
2022-12-10 16:29:18.661  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://result"/>
</route>
2022-12-10 16:29:18.671  INFO 29570 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:endgrpc]] --> after [To[mock://endgrpc]]
2022-12-10 16:29:18.672  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x1bd59b82], To[mock:endgrpc], To[mock://endgrpc]]]
2022-12-10 16:29:18.677  INFO 29570 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-10 16:29:18.886  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 16:29:18.895  INFO 29570 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 16:29:18.900  INFO 29570 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 16:29:18.923  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 16:29:18.924  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:29:18.925  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:29:18.926  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:29:18.927  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 16:29:18.927  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 16:29:18.928  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:29:18.928  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:29:18.929  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 16:29:18.929  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 16:29:18.929  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:29:18.930  INFO 29570 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 398ms (build:147ms init:208ms start:43ms)
2022-12-10 16:29:18.932  INFO 29570 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-10 16:29:19.974  INFO 29570 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:20.218  INFO 29570 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-10 16:29:20.220  INFO 29570 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:20.227  INFO 29570 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:29:20.286  INFO 29570 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)Message-ID: <1655396269.1.1670660960273@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1555068173.1670660960254"------=_Part_0_1555068173.1670660960254Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1555068173.1670660960254--]
2022-12-10 16:29:20.287  INFO 29570 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@50231f9
2022-12-10 16:29:20.290  INFO 29570 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)\r\nMessage-ID: <1655396269.1.1670660960273@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1555068173.1670660960254\"\r\n\r\n------=_Part_0_1555068173.1670660960254\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1555068173.1670660960254--\r\n"

2022-12-10 16:29:20.294  INFO 29570 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)
Message-ID: <1655396269.1.1670660960273@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1555068173.1670660960254"

------=_Part_0_1555068173.1670660960254
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1555068173.1670660960254--

2022-12-10 16:29:20.294  INFO 29570 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 16:29:20.294  INFO 29570 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 16:29:20.295  INFO 29570 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 16:29:20.296  INFO 29570 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:20.303  INFO 29570 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:29:20.307  INFO 29570 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)Message-ID: <1442880751.3.1670660960307@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_2_1693510123.1670660960306"------=_Part_2_1693510123.1670660960306Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_2_1693510123.1670660960306--]
2022-12-10 16:29:20.313  INFO 29570 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@7af28e19
2022-12-10 16:29:20.314  INFO 29570 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)\r\nMessage-ID: <1442880751.3.1670660960307@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1693510123.1670660960306\"\r\n\r\n------=_Part_2_1693510123.1670660960306\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1693510123.1670660960306--\r\n"

2022-12-10 16:29:20.314  INFO 29570 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)\r\nMessage-ID: <1442880751.3.1670660960307@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1693510123.1670660960306\"\r\n\r\n------=_Part_2_1693510123.1670660960306\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1693510123.1670660960306--\r\n"]
2022-12-10 16:29:20.317  INFO 29570 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 16:29:20 +0800 (HKT)\r\nMessage-ID: <1442880751.3.1670660960307@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1693510123.1670660960306\"\r\n\r\n------=_Part_2_1693510123.1670660960306\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1693510123.1670660960306--\r\n"

2022-12-10 16:29:20.320  INFO 29570 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:20.336  INFO 29570 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://result is satisfied
2022-12-10 16:29:20.336  INFO 29570 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-10 16:29:20.342  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:29:20.342  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test0HTTP2Route (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 16:29:20.342  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s672ms (2672 millis)
2022-12-10 16:29:20.342  INFO 29570 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:29:20.342  INFO 29570 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.895 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 16:29:20.436  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 16:29:24.316  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 16:29:24.316  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:29:24.316  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 16:29:24.323  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 16:29:24.323  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:29:24.323  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:29:24.324  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 16:29:24.325  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 16:29:24.325  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:29:24.325  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:29:24.325  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:29:24.330  INFO 29570 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s894ms (uptime:5s443ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.294 s
[[1;34mINFO[m] Finished at: 2022-12-10T16:29:24+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:29:29.847 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:29:29.883 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:29:29.965 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:29:29.977 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:29:29.982 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:29:29.984 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:29:29.985 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:29:29.986 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:29:30.074 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:29:30.161 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:29:30.164 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:30.256 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:29:30.256 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:29:30.264 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
16:29:30.270 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
16:29:30.300 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
16:29:30.316 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:30.318 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 16:29:30.686  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 29754 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 16:29:30.688  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 16:29:32.777  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.438 seconds (JVM running for 3.819)
2022-12-10 16:29:32.782  INFO 29754 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 16:29:32.886  INFO 29754 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-10 16:29:32.886  INFO 29754 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 16:29:32.886  INFO 29754 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 16:29:33.761  INFO 29754 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-10 16:29:33.762  INFO 29754 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x7fd2a67a], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-10 16:29:33.768  INFO 29754 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-10 16:29:34.032  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 16:29:34.045  INFO 29754 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 16:29:34.050  INFO 29754 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 16:29:34.083  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 16:29:34.083  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 16:29:34.083  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 16:29:34.083  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:29:34.083  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:29:34.084  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:29:34.092  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 16:29:34.092  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:29:34.092  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 16:29:34.092  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:29:34.093  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:29:34.093  INFO 29754 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 455ms (build:133ms init:261ms start:61ms)
2022-12-10 16:29:34.095  INFO 29754 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-10 16:29:35.132  INFO 29754 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:35.380  INFO 29754 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:35.389  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:29:35.391  INFO 29754 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:29:35.395  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test1ClientRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 16:29:35.395  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s502ms (2502 millis)
2022-12-10 16:29:35.396  INFO 29754 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:29:35.396  INFO 29754 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-10 16:29:35.445  INFO 29754 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)Message-ID: <2008944795.1.1670660975432@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1071631894.1670660975420"------=_Part_0_1071631894.1670660975420Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1071631894.1670660975420--]
2022-12-10 16:29:35.460  INFO 29754 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@80c03c4
2022-12-10 16:29:35.463  INFO 29754 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)\r\nMessage-ID: <2008944795.1.1670660975432@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1071631894.1670660975420\"\r\n\r\n------=_Part_0_1071631894.1670660975420\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1071631894.1670660975420--\r\n"

2022-12-10 16:29:35.464  INFO 29754 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)
Message-ID: <2008944795.1.1670660975432@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1071631894.1670660975420"

------=_Part_0_1071631894.1670660975420
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1071631894.1670660975420--

2022-12-10 16:29:35.464  INFO 29754 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 16:29:35.464  INFO 29754 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 16:29:35.470  INFO 29754 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 16:29:35.471  INFO 29754 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.839 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 16:29:35.478  INFO 29754 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:29:35.481  INFO 29754 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)Message-ID: <815551456.3.1670660975481@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_2_337605015.1670660975481"------=_Part_2_337605015.1670660975481Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_2_337605015.1670660975481--]
2022-12-10 16:29:35.482  INFO 29754 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@256c5eaa
2022-12-10 16:29:35.482  INFO 29754 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)\r\nMessage-ID: <815551456.3.1670660975481@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_337605015.1670660975481\"\r\n\r\n------=_Part_2_337605015.1670660975481\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_337605015.1670660975481--\r\n"

2022-12-10 16:29:35.483  INFO 29754 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)\r\nMessage-ID: <815551456.3.1670660975481@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_337605015.1670660975481\"\r\n\r\n------=_Part_2_337605015.1670660975481\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_337605015.1670660975481--\r\n"]
2022-12-10 16:29:35.483  INFO 29754 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 16:29:35 +0800 (HKT)\r\nMessage-ID: <815551456.3.1670660975481@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_337605015.1670660975481\"\r\n\r\n------=_Part_2_337605015.1670660975481\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_337605015.1670660975481--\r\n"

2022-12-10 16:29:35.484  INFO 29754 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:35.586  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 16:29:38.492  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 16:29:38.492  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:29:38.492  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:29:38.492  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 16:29:38.492  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:29:38.493  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 16:29:38.493  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:29:38.493  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:29:38.493  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:29:38.493  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 16:29:38.493  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 16:29:38.495  INFO 29754 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 2s909ms (uptime:4s463ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.691 s
[[1;34mINFO[m] Finished at: 2022-12-10T16:29:38+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:29:44.070 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:29:44.078 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:29:44.118 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:29:44.129 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:29:44.133 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:29:44.134 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:29:44.135 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:29:44.140 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:29:44.185 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:29:44.233 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:29:44.237 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:44.303 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:29:44.304 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:29:44.312 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
16:29:44.319 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
16:29:44.348 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
16:29:44.359 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:44.361 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 16:29:44.627  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 29911 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 16:29:44.629  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 16:29:46.598  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.218 seconds (JVM running for 3.369)
2022-12-10 16:29:46.603  INFO 29911 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 16:29:46.696  INFO 29911 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-10 16:29:46.697  INFO 29911 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 16:29:46.697  INFO 29911 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 16:29:47.685  INFO 29911 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-10 16:29:47.687  INFO 29911 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@2c0fefac], To[mock:middle], To[mock://middle]]]
2022-12-10 16:29:47.691  INFO 29911 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-10 16:29:47.903  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 16:29:47.912  INFO 29911 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 16:29:47.920  INFO 29911 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 16:29:47.971  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 16:29:47.971  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:29:47.972  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 16:29:47.972  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:29:47.973  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:29:47.973  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:29:47.974  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 16:29:47.974  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 16:29:47.974  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:29:47.975  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:29:47.975  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 16:29:47.976  INFO 29911 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 407ms (build:130ms init:204ms start:73ms)
2022-12-10 16:29:47.979  INFO 29911 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-10 16:29:49.023  INFO 29911 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:49.432  INFO 29911 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:29:49.479  INFO 29911 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)Message-ID: <1052660556.1.1670660989467@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_588030024.1670660989456"------=_Part_0_588030024.1670660989456Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_588030024.1670660989456--]
2022-12-10 16:29:49.481  INFO 29911 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@256c5eaa
2022-12-10 16:29:49.485  INFO 29911 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)\r\nMessage-ID: <1052660556.1.1670660989467@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_588030024.1670660989456\"\r\n\r\n------=_Part_0_588030024.1670660989456\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_588030024.1670660989456--\r\n"

2022-12-10 16:29:49.486  INFO 29911 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)
Message-ID: <1052660556.1.1670660989467@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_588030024.1670660989456"

------=_Part_0_588030024.1670660989456
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_588030024.1670660989456--

2022-12-10 16:29:49.487  INFO 29911 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 16:29:49.487  INFO 29911 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 16:29:49.489  INFO 29911 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 16:29:49.489  INFO 29911 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:49.496  INFO 29911 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:49.508  INFO 29911 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:29:49.570  INFO 29911 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:29:49.574  INFO 29911 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)Message-ID: <864438736.5.1670660989574@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1547238948.1670660989573"------=_Part_4_1547238948.1670660989573Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1547238948.1670660989573--]
2022-12-10 16:29:49.579  INFO 29911 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@305865fc
2022-12-10 16:29:49.579  INFO 29911 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)\r\nMessage-ID: <864438736.5.1670660989574@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1547238948.1670660989573\"\r\n\r\n------=_Part_4_1547238948.1670660989573\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1547238948.1670660989573--\r\n"

2022-12-10 16:29:49.580  INFO 29911 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)\r\nMessage-ID: <864438736.5.1670660989574@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1547238948.1670660989573\"\r\n\r\n------=_Part_4_1547238948.1670660989573\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1547238948.1670660989573--\r\n"]
2022-12-10 16:29:49.582  INFO 29911 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 16:29:49 +0800 (HKT)\r\nMessage-ID: <864438736.5.1670660989574@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1547238948.1670660989573\"\r\n\r\n------=_Part_4_1547238948.1670660989573\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1547238948.1670660989573--\r\n"

2022-12-10 16:29:49.591  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:29:49.592  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test2MiddleRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 16:29:49.613  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s893ms (2893 millis)
2022-12-10 16:29:49.614  INFO 29911 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:29:49.615  INFO 29911 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.662 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 16:29:49.783  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 16:29:51.521  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 16:29:51.521  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 16:29:51.521  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:29:51.521  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:29:51.521  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 16:29:51.522  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 16:29:51.522  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:29:51.524  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:29:51.524  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:29:51.524  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 16:29:51.524  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:29:51.527  INFO 29911 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 1s744ms (uptime:3s624ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.127 s
[[1;34mINFO[m] Finished at: 2022-12-10T16:29:51+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:29:57.815 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:29:57.827 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:29:57.870 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:29:57.883 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:29:57.887 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:29:57.888 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:29:57.888 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:29:57.889 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:29:57.941 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:29:57.998 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:29:58.001 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:58.080 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:29:58.080 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:29:58.088 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
16:29:58.094 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
16:29:58.129 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
16:29:58.140 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:58.144 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 16:29:58.486  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 30166 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 16:29:58.487  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 16:30:00.943  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.773 seconds (JVM running for 4.09)
2022-12-10 16:30:00.964  INFO 30166 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 16:30:01.108  INFO 30166 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-10 16:30:01.109  INFO 30166 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 16:30:01.110  INFO 30166 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 16:30:02.356  INFO 30166 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[log:org.apache.camel.example?level=INFO]] --> after [To[mock://result]]
2022-12-10 16:30:02.358  INFO 30166 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x56b751b1], To[mock:end], To[log:org.apache.camel.example?level=INFO], To[mock://result]]]
2022-12-10 16:30:02.364  INFO 30166 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://result"/>
</route>
2022-12-10 16:30:02.618  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 16:30:02.628  INFO 30166 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 16:30:02.638  INFO 30166 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 16:30:02.657  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 16:30:02.659  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:30:02.659  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 16:30:02.660  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:30:02.660  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:30:02.661  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:30:02.662  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 16:30:02.663  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:30:02.663  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 16:30:02.664  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:30:02.665  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 16:30:02.673  INFO 30166 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 443ms (build:141ms init:248ms start:54ms)
2022-12-10 16:30:02.677  INFO 30166 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://result is satisfied
2022-12-10 16:30:03.732  INFO 30166 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:04.061  INFO 30166 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:30:04.111  INFO 30166 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)Message-ID: <1053279461.1.1670661004098@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1418775411.1670661004084"------=_Part_0_1418775411.1670661004084Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1418775411.1670661004084--]
2022-12-10 16:30:04.112  INFO 30166 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@520e113e
2022-12-10 16:30:04.114  INFO 30166 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)\r\nMessage-ID: <1053279461.1.1670661004098@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1418775411.1670661004084\"\r\n\r\n------=_Part_0_1418775411.1670661004084\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1418775411.1670661004084--\r\n"

2022-12-10 16:30:04.115  INFO 30166 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)
Message-ID: <1053279461.1.1670661004098@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1418775411.1670661004084"

------=_Part_0_1418775411.1670661004084
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1418775411.1670661004084--

2022-12-10 16:30:04.116  INFO 30166 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 16:30:04.116  INFO 30166 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 16:30:04.117  INFO 30166 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 16:30:04.118  INFO 30166 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:04.125  INFO 30166 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:04.139  INFO 30166 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:04.148  INFO 30166 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:30:04.154  INFO 30166 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)Message-ID: <1968664222.5.1670661004153@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_875109974.1670661004153"------=_Part_4_875109974.1670661004153Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_875109974.1670661004153--]
2022-12-10 16:30:04.156  INFO 30166 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@78770527
2022-12-10 16:30:04.156  INFO 30166 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)\r\nMessage-ID: <1968664222.5.1670661004153@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_875109974.1670661004153\"\r\n\r\n------=_Part_4_875109974.1670661004153\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_875109974.1670661004153--\r\n"

2022-12-10 16:30:04.158  INFO 30166 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)\r\nMessage-ID: <1968664222.5.1670661004153@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_875109974.1670661004153\"\r\n\r\n------=_Part_4_875109974.1670661004153\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_875109974.1670661004153--\r\n"]
2022-12-10 16:30:04.170  INFO 30166 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 16:30:04 +0800 (HKT)\r\nMessage-ID: <1968664222.5.1670661004153@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_875109974.1670661004153\"\r\n\r\n------=_Part_4_875109974.1670661004153\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_875109974.1670661004153--\r\n"

2022-12-10 16:30:04.203  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:30:04.204  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test3EndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 16:30:04.204  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 3s93ms (3093 millis)
2022-12-10 16:30:04.204  INFO 30166 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:30:04.204  INFO 30166 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.512 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 16:30:04.327  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 16:30:08.204  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 16:30:08.219  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:30:08.222  INFO 30166 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s895ms (uptime:5s603ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  15.144 s
[[1;34mINFO[m] Finished at: 2022-12-10T16:30:08+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:30:13.966 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:30:13.976 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:30:14.015 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:30:14.025 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:30:14.029 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:30:14.032 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:30:14.033 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:30:14.034 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:30:14.092 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:30:14.176 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:30:14.180 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:30:14.255 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:30:14.255 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:30:14.263 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
16:30:14.277 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
16:30:14.316 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
16:30:14.331 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:30:14.349 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 16:30:14.637  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 30480 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 16:30:14.638  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 16:30:16.882  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.499 seconds (JVM running for 3.937)
2022-12-10 16:30:16.899  INFO 30480 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 16:30:17.016  INFO 30480 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-10 16:30:17.017  INFO 30480 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 16:30:17.017  INFO 30480 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 16:30:17.911  INFO 30480 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:endgrpc]] --> after [To[mock://endgrpc]]
2022-12-10 16:30:17.913  INFO 30480 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x7fd2a67a], To[mock:endgrpc], To[mock://endgrpc]]]
2022-12-10 16:30:17.917  INFO 30480 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-10 16:30:18.141  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 16:30:18.161  INFO 30480 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 16:30:18.177  INFO 30480 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 16:30:18.207  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 16:30:18.208  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:30:18.208  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 16:30:18.208  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:30:18.208  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:30:18.208  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 16:30:18.209  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:30:18.209  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 16:30:18.209  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:30:18.209  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:30:18.210  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 16:30:18.210  INFO 30480 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 389ms (build:113ms init:220ms start:56ms)
2022-12-10 16:30:18.214  INFO 30480 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-10 16:30:19.258  INFO 30480 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:19.535  INFO 30480 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:30:19.583  INFO 30480 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)Message-ID: <1631640661.1.1670661019571@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_667292113.1670661019559"------=_Part_0_667292113.1670661019559Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_667292113.1670661019559--]
2022-12-10 16:30:19.584  INFO 30480 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@2e70e744
2022-12-10 16:30:19.586  INFO 30480 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)\r\nMessage-ID: <1631640661.1.1670661019571@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_667292113.1670661019559\"\r\n\r\n------=_Part_0_667292113.1670661019559\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_667292113.1670661019559--\r\n"

2022-12-10 16:30:19.586  INFO 30480 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)
Message-ID: <1631640661.1.1670661019571@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_667292113.1670661019559"

------=_Part_0_667292113.1670661019559
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_667292113.1670661019559--

2022-12-10 16:30:19.587  INFO 30480 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 16:30:19.587  INFO 30480 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 16:30:19.592  INFO 30480 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 16:30:19.593  INFO 30480 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:19.599  INFO 30480 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:19.607  INFO 30480 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 16:30:19.613  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:30:19.615  INFO 30480 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 16:30:19.630  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test4EndGrpcRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 16:30:19.631  INFO 30480 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)Message-ID: <328727842.5.1670661019630@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1125629973.1670661019630"------=_Part_4_1125629973.1670661019630Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1125629973.1670661019630--]
2022-12-10 16:30:19.631  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s595ms (2595 millis)
2022-12-10 16:30:19.632  INFO 30480 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 16:30:19.632  INFO 30480 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@60dc7d80
2022-12-10 16:30:19.633  INFO 30480 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)\r\nMessage-ID: <328727842.5.1670661019630@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1125629973.1670661019630\"\r\n\r\n------=_Part_4_1125629973.1670661019630\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1125629973.1670661019630--\r\n"

2022-12-10 16:30:19.633  INFO 30480 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-10 16:30:19.634  INFO 30480 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)\r\nMessage-ID: <328727842.5.1670661019630@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1125629973.1670661019630\"\r\n\r\n------=_Part_4_1125629973.1670661019630\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1125629973.1670661019630--\r\n"]
2022-12-10 16:30:19.634  INFO 30480 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 16:30:19 +0800 (HKT)\r\nMessage-ID: <328727842.5.1670661019630@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1125629973.1670661019630\"\r\n\r\n------=_Part_4_1125629973.1670661019630\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1125629973.1670661019630--\r\n"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.792 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 16:30:19.770  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 16:30:23.606  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 16:30:23.607  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 16:30:23.615  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 16:30:23.615  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 16:30:23.616  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 16:30:23.617  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 16:30:23.617  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 16:30:23.617  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 16:30:23.617  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 16:30:23.617  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 16:30:23.617  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 16:30:23.626  INFO 30480 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s856ms (uptime:5s472ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.203 s
[[1;34mINFO[m] Finished at: 2022-12-10T16:30:23+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
