================== testing results ==================
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:09:22.303 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:09:22.313 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:09:22.346 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:09:22.352 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:09:22.354 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:09:22.355 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:09:22.355 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:09:22.355 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:09:22.382 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:09:22.412 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:09:22.413 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:09:22.456 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:09:22.456 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:09:22.473 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:09:22.477 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
12:09:22.513 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:09:22.526 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:09:22.527 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-12 12:09:22.764  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 21236 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-12 12:09:22.766  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-12 12:09:24.322  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.768 seconds (JVM running for 2.592)
2022-12-12 12:09:24.325  INFO 21236 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-12 12:09:24.382  INFO 21236 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-12 12:09:24.382  INFO 21236 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-12 12:09:24.382  INFO 21236 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-12 12:09:24.911  INFO 21236 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[seda:netty-http:http://0.0.0.0:19500/middle]] --> after [To[mock://start]]
2022-12-12 12:09:24.920  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start0)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x48d31d25], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[log:org.apache.camel.example?level=INFO], WireTap[mock:start], To[seda:netty-http:http://0.0.0.0:19500/middle], To[mock://start]]]
2022-12-12 12:09:24.930  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <wireTap uri="mock:start"/>
    <to uri="seda:netty-http:http://0.0.0.0:19500/middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <wireTap uri="mock:start"/>
    <to uri="seda:netty-http:http://0.0.0.0:19500/middle"/>
    <to uri="mock://start"/>
</route>
2022-12-12 12:09:24.935  INFO 21236 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [Log[Message body back multipart: ${body}]] --> after [To[mock://middle]]
2022-12-12 12:09:24.936  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle0)[From[seda:netty-http:http://0.0.0.0:19500/middle] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@484302ee], To[log:org.apache.camel.example?level=INFO], To[seda:netty-http:http://0.0.0.0:18123/foo], WireTap[mock:middle], Log[Message body back multipart: ${body}], To[mock://middle]]]
2022-12-12 12:09:24.938  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:netty-http:http://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <wireTap uri="mock:middle"/>
    <log message="Message body back multipart: ${body}"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:netty-http:http://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <wireTap uri="mock:middle"/>
    <log message="Message body back multipart: ${body}"/>
    <to uri="mock://middle"/>
</route>
2022-12-12 12:09:24.941  INFO 21236 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18124/foo]] --> after [To[mock://end]]
2022-12-12 12:09:24.941  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end0)[From[seda:netty-http:http://0.0.0.0:18123/foo] -> [process[Processor@0x75add13c], To[mock:end], WireTap[seda:netty-http:http://0.0.0.0:18124/foo], To[mock://end]]]
2022-12-12 12:09:24.943  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <to uri="mock://end"/>
</route>
2022-12-12 12:09:24.945  INFO 21236 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:endgrpc]] --> after [To[mock://endgrpc]]
2022-12-12 12:09:24.945  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x63d0e8d], To[mock:endgrpc], To[mock://endgrpc]]]
2022-12-12 12:09:24.946  INFO 21236 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-12 12:09:25.084  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-12 12:09:25.089  INFO 21236 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-12 12:09:25.092  INFO 21236 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-12 12:09:25.126  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-12 12:09:25.126  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:09:25.126  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:09:25.126  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (timer://foo)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-12 12:09:25.127  INFO 21236 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 272ms (build:91ms init:138ms start:43ms)
2022-12-12 12:09:25.131  INFO 21236 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-12 12:09:26.159  INFO 21236 --- [7 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:26.361  INFO 21236 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:09:26.370  INFO 21236 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-12 12:09:26.413  INFO 21236 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)Message-ID: <796376264.1.1670818166405@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1222582182.1670818166381"------=_Part_0_1222582182.1670818166381Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1222582182.1670818166381--]
2022-12-12 12:09:26.414  INFO 21236 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@45e039ce
2022-12-12 12:09:26.417  INFO 21236 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)\r\nMessage-ID: <796376264.1.1670818166405@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1222582182.1670818166381\"\r\n\r\n------=_Part_0_1222582182.1670818166381\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1222582182.1670818166381--\r\n"

2022-12-12 12:09:26.419  INFO 21236 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)
Message-ID: <796376264.1.1670818166405@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1222582182.1670818166381"

------=_Part_0_1222582182.1670818166381
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1222582182.1670818166381--

2022-12-12 12:09:26.419  INFO 21236 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-12 12:09:26.419  INFO 21236 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-12 12:09:26.419  INFO 21236 --- [.0:19500/middle] http2middle0                             : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)\r\nMessage-ID: <796376264.1.1670818166405@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1222582182.1670818166381\"\r\n\r\n------=_Part_0_1222582182.1670818166381\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1222582182.1670818166381--\r\n"

2022-12-12 12:09:26.420  INFO 21236 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-12 12:09:26.420  INFO 21236 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-12 12:09:26.421  INFO 21236 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:26.426  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:09:26.426  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test0HTTP2Route (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-12 12:09:26.426  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s44ms (2044 millis)
2022-12-12 12:09:26.426  INFO 21236 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:09:26.426  INFO 21236 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-12 12:09:26.431  INFO 21236 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:26.436  INFO 21236 --- [7 - timer://foo] route2                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:26.440  INFO 21236 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:09:26.442  INFO 21236 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)Message-ID: <1207481620.5.1670818166442@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_456648184.1670818166442"------=_Part_4_456648184.1670818166442Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_456648184.1670818166442--]
2022-12-12 12:09:26.443  INFO 21236 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B
2022-12-12 12:09:26.443  INFO 21236 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)\r\nMessage-ID: <1207481620.5.1670818166442@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_456648184.1670818166442\"\r\n\r\n------=_Part_4_456648184.1670818166442\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_456648184.1670818166442--\r\n"

2022-12-12 12:09:26.444  INFO 21236 --- [0.0:9500/middle] route3                                   : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:09:26 +0800 (HKT)\r\nMessage-ID: <1207481620.5.1670818166442@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_456648184.1670818166442\"\r\n\r\n------=_Part_4_456648184.1670818166442\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_456648184.1670818166442--\r\n"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.22 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-12 12:09:26.507  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-12 12:09:32.430  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-12 12:09:32.435  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-12 12:09:32.436  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:09:32.437  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:09:32.437  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (timer://foo)
2022-12-12 12:09:32.437  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:09:32.437  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-12 12:09:32.438  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-12 12:09:32.441  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:09:32.441  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:09:32.442  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:09:32.445  INFO 21236 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s938ms (uptime:7s361ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  13.040 s
[[1;34mINFO[m] Finished at: 2022-12-12T12:09:32+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:09:36.166 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:09:36.171 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:09:36.190 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:09:36.197 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:09:36.199 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:09:36.200 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:09:36.200 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:09:36.201 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:09:36.229 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:09:36.255 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:09:36.257 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:09:36.298 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:09:36.299 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:09:36.303 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:09:36.307 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
12:09:36.325 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:09:36.331 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:09:36.333 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-12 12:09:36.491  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 21358 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-12 12:09:36.492  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-12 12:09:38.118  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.773 seconds (JVM running for 2.349)
2022-12-12 12:09:38.122  INFO 21358 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-12 12:09:38.193  INFO 21358 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-12 12:09:38.193  INFO 21358 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-12 12:09:38.194  INFO 21358 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-12 12:09:38.865  INFO 21358 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-12 12:09:38.867  INFO 21358 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x5b59c3d], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-12 12:09:38.871  INFO 21358 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-12 12:09:39.058  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-12 12:09:39.065  INFO 21358 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-12 12:09:39.072  INFO 21358 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (timer://foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:09:39.091  INFO 21358 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 299ms (build:83ms init:183ms start:33ms)
2022-12-12 12:09:39.092  INFO 21358 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-12 12:09:40.126  INFO 21358 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:40.323  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:09:40.324  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test1ClientRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-12 12:09:40.324  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s129ms (2129 millis)
2022-12-12 12:09:40.324  INFO 21358 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:09:40.324  INFO 21358 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-12 12:09:40.329  INFO 21358 --- [7 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:40.337  INFO 21358 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.226 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-12 12:09:40.361  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-12 12:09:40.364  INFO 21358 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [http2middle0 = 1, http2start0 = 1]
2022-12-12 12:09:40.394  INFO 21358 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:09:40 +0800 (HKT)Message-ID: <858734605.1.1670818180388@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1486173670.1670818180382"------=_Part_0_1486173670.1670818180382Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1486173670.1670818180382--]
2022-12-12 12:09:40.395  INFO 21358 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@53038aaf
2022-12-12 12:09:40.397  INFO 21358 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:09:40 +0800 (HKT)\r\nMessage-ID: <858734605.1.1670818180388@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1486173670.1670818180382\"\r\n\r\n------=_Part_0_1486173670.1670818180382\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1486173670.1670818180382--\r\n"

2022-12-12 12:09:40.398  INFO 21358 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Mon, 12 Dec 2022 12:09:40 +0800 (HKT)
Message-ID: <858734605.1.1670818180388@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1486173670.1670818180382"

------=_Part_0_1486173670.1670818180382
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1486173670.1670818180382--

2022-12-12 12:09:40.398  INFO 21358 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-12 12:09:40.398  INFO 21358 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-12 12:09:40.406  INFO 21358 --- [.0:19500/middle] http2middle0                             : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:09:40 +0800 (HKT)\r\nMessage-ID: <858734605.1.1670818180388@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1486173670.1670818180382\"\r\n\r\n------=_Part_0_1486173670.1670818180382\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1486173670.1670818180382--\r\n"

2022-12-12 12:09:44.419  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-12 12:09:44.422  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:09:44.422  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:09:44.422  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (timer://foo)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-12 12:09:44.423  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-12 12:09:44.425  INFO 21358 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 4s64ms (uptime:5s367ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  11.203 s
[[1;34mINFO[m] Finished at: 2022-12-12T12:09:44+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:09:49.672 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:09:49.679 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:09:49.701 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:09:49.727 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:09:49.730 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:09:49.731 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:09:49.732 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:09:49.732 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:09:49.761 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:09:49.790 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:09:49.792 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:09:49.835 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:09:49.836 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:09:49.845 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:09:49.853 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
12:09:49.872 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:09:49.880 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:09:49.882 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-12 12:09:50.034  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 21469 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-12 12:09:50.034  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-12 12:09:51.569  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.675 seconds (JVM running for 2.517)
2022-12-12 12:09:51.573  INFO 21469 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-12 12:09:51.650  INFO 21469 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-12 12:09:51.653  INFO 21469 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-12 12:09:51.653  INFO 21469 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-12 12:09:52.354  INFO 21469 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-12 12:09:52.356  INFO 21469 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@2c0fefac], To[mock:middle], To[mock://middle]]]
2022-12-12 12:09:52.361  INFO 21469 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-12 12:09:52.556  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-12 12:09:52.564  INFO 21469 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-12 12:09:52.569  INFO 21469 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-12 12:09:52.599  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-12 12:09:52.599  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:09:52.599  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (timer://foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-12 12:09:52.600  INFO 21469 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 324ms (build:89ms init:191ms start:44ms)
2022-12-12 12:09:52.602  INFO 21469 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-12 12:09:53.733  INFO 21469 --- [7 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:53.963  INFO 21469 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:09:54.000  INFO 21469 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:09:53 +0800 (HKT)Message-ID: <522473741.1.1670818193989@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_849319345.1670818193981"------=_Part_0_849319345.1670818193981Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_849319345.1670818193981--]
2022-12-12 12:09:54.001  INFO 21469 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@62cb2f80
2022-12-12 12:09:54.003  INFO 21469 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:09:53 +0800 (HKT)\r\nMessage-ID: <522473741.1.1670818193989@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_849319345.1670818193981\"\r\n\r\n------=_Part_0_849319345.1670818193981\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_849319345.1670818193981--\r\n"

2022-12-12 12:09:54.005  INFO 21469 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Mon, 12 Dec 2022 12:09:53 +0800 (HKT)
Message-ID: <522473741.1.1670818193989@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_849319345.1670818193981"

------=_Part_0_849319345.1670818193981
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_849319345.1670818193981--

2022-12-12 12:09:54.006  INFO 21469 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-12 12:09:54.006  INFO 21469 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-12 12:09:54.007  INFO 21469 --- [.0:19500/middle] http2middle0                             : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:09:53 +0800 (HKT)\r\nMessage-ID: <522473741.1.1670818193989@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_849319345.1670818193981\"\r\n\r\n------=_Part_0_849319345.1670818193981\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_849319345.1670818193981--\r\n"

2022-12-12 12:09:54.008  INFO 21469 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:54.013  INFO 21469 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:54.018  INFO 21469 --- [7 - timer://foo] route2                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:09:54.022  INFO 21469 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:09:54.025  INFO 21469 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:09:54 +0800 (HKT)Message-ID: <415592150.5.1670818194025@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1731816386.1670818194025"------=_Part_4_1731816386.1670818194025Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1731816386.1670818194025--]
2022-12-12 12:09:54.026  INFO 21469 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B
2022-12-12 12:09:54.026  INFO 21469 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:09:54 +0800 (HKT)\r\nMessage-ID: <415592150.5.1670818194025@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1731816386.1670818194025\"\r\n\r\n------=_Part_4_1731816386.1670818194025\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1731816386.1670818194025--\r\n"

2022-12-12 12:09:54.026  INFO 21469 --- [0.0:9500/middle] route3                                   : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:09:54 +0800 (HKT)\r\nMessage-ID: <415592150.5.1670818194025@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1731816386.1670818194025\"\r\n\r\n------=_Part_4_1731816386.1670818194025\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1731816386.1670818194025--\r\n"

2022-12-12 12:09:54.032  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:09:54.032  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test2MiddleRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-12 12:09:54.032  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s379ms (2379 millis)
2022-12-12 12:09:54.033  INFO 21469 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:09:54.033  INFO 21469 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.428 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-12 12:09:54.093  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-12 12:09:58.055  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-12 12:09:58.055  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-12 12:09:58.055  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:09:58.055  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:09:58.055  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (timer://foo)
2022-12-12 12:09:58.062  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-12 12:09:58.062  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:09:58.063  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:09:58.063  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:09:58.063  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-12 12:09:58.063  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:09:58.078  INFO 21469 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s985ms (uptime:5s522ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.502 s
[[1;34mINFO[m] Finished at: 2022-12-12T12:09:58+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:10:03.142 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:10:03.151 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:10:03.171 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:10:03.179 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:10:03.182 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:10:03.182 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:10:03.183 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:10:03.184 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:10:03.208 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:10:03.248 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:10:03.251 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:10:03.309 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:10:03.310 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:10:03.314 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:10:03.320 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
12:10:03.360 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:10:03.386 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:10:03.388 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-12 12:10:03.529  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 21581 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-12 12:10:03.530  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-12 12:10:04.713  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.306 seconds (JVM running for 2.077)
2022-12-12 12:10:04.717  INFO 21581 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-12 12:10:04.775  INFO 21581 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-12 12:10:04.776  INFO 21581 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-12 12:10:04.776  INFO 21581 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-12 12:10:05.336  INFO 21581 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:end]] --> after [To[mock://end]]
2022-12-12 12:10:05.338  INFO 21581 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x3c3cd13a], To[mock:end], To[mock://end]]]
2022-12-12 12:10:05.340  INFO 21581 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="mock://end"/>
</route>
2022-12-12 12:10:05.499  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-12 12:10:05.504  INFO 21581 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-12 12:10:05.508  INFO 21581 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (timer://foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-12 12:10:05.533  INFO 21581 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 253ms (build:63ms init:156ms start:34ms)
2022-12-12 12:10:05.537  INFO 21581 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-12 12:10:06.570  INFO 21581 --- [7 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:06.783  INFO 21581 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:10:06.816  INFO 21581 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)Message-ID: <1002781596.1.1670818206808@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_2014189022.1670818206801"------=_Part_0_2014189022.1670818206801Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_2014189022.1670818206801--]
2022-12-12 12:10:06.817  INFO 21581 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@4deb7b1d
2022-12-12 12:10:06.818  INFO 21581 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)\r\nMessage-ID: <1002781596.1.1670818206808@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_2014189022.1670818206801\"\r\n\r\n------=_Part_0_2014189022.1670818206801\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_2014189022.1670818206801--\r\n"

2022-12-12 12:10:06.825  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:10:06.825  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test3EndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-12 12:10:06.825  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s49ms (2049 millis)
2022-12-12 12:10:06.825  INFO 21581 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:10:06.825  INFO 21581 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-12 12:10:06.832  INFO 21581 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)
Message-ID: <1002781596.1.1670818206808@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_2014189022.1670818206801"

------=_Part_0_2014189022.1670818206801
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_2014189022.1670818206801--

2022-12-12 12:10:06.832  INFO 21581 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-12 12:10:06.832  INFO 21581 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.772 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-12 12:10:06.841  INFO 21581 --- [.0:19500/middle] http2middle0                             : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)\r\nMessage-ID: <1002781596.1.1670818206808@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_2014189022.1670818206801\"\r\n\r\n------=_Part_0_2014189022.1670818206801\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_2014189022.1670818206801--\r\n"

2022-12-12 12:10:06.849  INFO 21581 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:06.864  INFO 21581 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:06.870  INFO 21581 --- [7 - timer://foo] route2                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:06.875  INFO 21581 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:10:06.894  INFO 21581 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)Message-ID: <571016083.5.1670818206894@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1569085749.1670818206894"------=_Part_4_1569085749.1670818206894Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1569085749.1670818206894--]
2022-12-12 12:10:06.895  INFO 21581 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B
2022-12-12 12:10:06.895  INFO 21581 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)\r\nMessage-ID: <571016083.5.1670818206894@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1569085749.1670818206894\"\r\n\r\n------=_Part_4_1569085749.1670818206894\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1569085749.1670818206894--\r\n"

2022-12-12 12:10:06.901  INFO 21581 --- [0.0:9500/middle] route3                                   : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:10:06 +0800 (HKT)\r\nMessage-ID: <571016083.5.1670818206894@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1569085749.1670818206894\"\r\n\r\n------=_Part_4_1569085749.1670818206894\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1569085749.1670818206894--\r\n"

2022-12-12 12:10:06.920  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-12 12:10:10.910  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-12 12:10:10.910  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-12 12:10:10.910  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:10:10.910  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (timer://foo)
2022-12-12 12:10:10.910  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:10:10.911  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-12 12:10:10.914  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:10:10.915  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:10:10.915  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:10:10.915  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-12 12:10:10.915  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:10:10.917  INFO 21581 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s997ms (uptime:5s418ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.127 s
[[1;34mINFO[m] Finished at: 2022-12-12T12:10:11+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:10:15.734 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:10:15.740 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:10:15.770 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:10:15.777 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:10:15.780 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:10:15.781 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:10:15.781 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:10:15.782 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:10:15.872 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:10:15.930 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:10:15.933 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:10:15.991 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:10:15.991 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:10:15.996 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:10:16.002 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
12:10:16.022 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:10:16.032 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:10:16.034 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-12 12:10:16.287  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 21692 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-12 12:10:16.292  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-12 12:10:18.141  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.085 seconds (JVM running for 3.155)
2022-12-12 12:10:18.145  INFO 21692 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-12 12:10:18.241  INFO 21692 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-12 12:10:18.243  INFO 21692 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-12 12:10:18.243  INFO 21692 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-12 12:10:18.972  INFO 21692 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:endgrpc]] --> after [To[mock://endgrpc]]
2022-12-12 12:10:18.974  INFO 21692 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x3c3cd13a], To[mock:endgrpc], To[mock://endgrpc]]]
2022-12-12 12:10:18.978  INFO 21692 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-12 12:10:19.193  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-12 12:10:19.200  INFO 21692 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-12 12:10:19.203  INFO 21692 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-12 12:10:19.222  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-12 12:10:19.222  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:10:19.222  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-12 12:10:19.222  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:10:19.222  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:10:19.222  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-12 12:10:19.223  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:10:19.223  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (timer://foo)
2022-12-12 12:10:19.223  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:10:19.223  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:10:19.223  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-12 12:10:19.223  INFO 21692 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 344ms (build:101ms init:213ms start:30ms)
2022-12-12 12:10:19.225  INFO 21692 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-12 12:10:20.262  INFO 21692 --- [7 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:20.555  INFO 21692 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:10:20.635  INFO 21692 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)Message-ID: <1266695359.1.1670818220613@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1832851165.1670818220595"------=_Part_0_1832851165.1670818220595Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1832851165.1670818220595--]
2022-12-12 12:10:20.636  INFO 21692 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@5d2a796b
2022-12-12 12:10:20.638  INFO 21692 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)\r\nMessage-ID: <1266695359.1.1670818220613@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1832851165.1670818220595\"\r\n\r\n------=_Part_0_1832851165.1670818220595\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1832851165.1670818220595--\r\n"

2022-12-12 12:10:20.646  INFO 21692 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)
Message-ID: <1266695359.1.1670818220613@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1832851165.1670818220595"

------=_Part_0_1832851165.1670818220595
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1832851165.1670818220595--

2022-12-12 12:10:20.647  INFO 21692 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-12 12:10:20.647  INFO 21692 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-12 12:10:20.659  INFO 21692 --- [.0:19500/middle] http2middle0                             : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)\r\nMessage-ID: <1266695359.1.1670818220613@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1832851165.1670818220595\"\r\n\r\n------=_Part_0_1832851165.1670818220595\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1832851165.1670818220595--\r\n"

2022-12-12 12:10:20.661  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:10:20.661  INFO 21692 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:20.663  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test4EndGrpcRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-12 12:10:20.667  INFO 21692 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:20.672  INFO 21692 --- [7 - timer://foo] route2                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-12 12:10:20.673  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s418ms (2418 millis)
2022-12-12 12:10:20.673  INFO 21692 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-12 12:10:20.674  INFO 21692 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-12 12:10:20.679  INFO 21692 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-12 12:10:20.681  INFO 21692 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)Message-ID: <1589718988.5.1670818220681@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1665862854.1670818220681"------=_Part_4_1665862854.1670818220681Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1665862854.1670818220681--]
2022-12-12 12:10:20.682  INFO 21692 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B
2022-12-12 12:10:20.683  INFO 21692 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)\r\nMessage-ID: <1589718988.5.1670818220681@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1665862854.1670818220681\"\r\n\r\n------=_Part_4_1665862854.1670818220681\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1665862854.1670818220681--\r\n"

2022-12-12 12:10:20.683  INFO 21692 --- [0.0:9500/middle] route3                                   : Message body back multipart: content: "Date: Mon, 12 Dec 2022 12:10:20 +0800 (HKT)\r\nMessage-ID: <1589718988.5.1670818220681@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1665862854.1670818220681\"\r\n\r\n------=_Part_4_1665862854.1670818220681\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1665862854.1670818220681--\r\n"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.023 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-12 12:10:20.813  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-12 12:10:25.674  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-12 12:10:25.675  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-12 12:10:25.675  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-12 12:10:25.675  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-12 12:10:25.675  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (timer://foo)
2022-12-12 12:10:25.675  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-12 12:10:25.675  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-12 12:10:25.676  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-12 12:10:25.676  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-12 12:10:25.676  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-12 12:10:25.676  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-12 12:10:25.678  INFO 21692 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 4s866ms (uptime:6s485ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  13.741 s
[[1;34mINFO[m] Finished at: 2022-12-12T12:10:25+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
