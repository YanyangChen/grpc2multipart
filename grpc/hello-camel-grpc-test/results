================== testing results ==================
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
15:56:19.277 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
15:56:19.286 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
15:56:19.320 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
15:56:19.331 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
15:56:19.335 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
15:56:19.336 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
15:56:19.338 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
15:56:19.339 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:56:19.383 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
15:56:19.452 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
15:56:19.467 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:56:19.561 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
15:56:19.561 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
15:56:19.571 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
15:56:19.584 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
15:56:19.625 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
15:56:19.655 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:56:19.665 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 15:56:19.925  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 13610 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 15:56:19.926  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 15:56:22.428  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.729 seconds (JVM running for 4.114)
2022-12-10 15:56:22.434  INFO 13610 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 15:56:22.595  INFO 13610 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-10 15:56:22.595  INFO 13610 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 15:56:22.596  INFO 13610 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 15:56:23.776  INFO 13610 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[log:org.apache.camel.example?level=INFO]] --> after [To[mock://start]]
2022-12-10 15:56:23.778  INFO 13610 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x56b751b1], To[mock:end], To[log:org.apache.camel.example?level=INFO], To[mock://start]]]
2022-12-10 15:56:23.782  INFO 13610 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://start"/>
</route>
2022-12-10 15:56:23.790  INFO 13610 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock://start]] --> after [To[mock://middle]]
2022-12-10 15:56:23.791  INFO 13610 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x56b751b1], To[mock:end], To[log:org.apache.camel.example?level=INFO], To[mock://start], To[mock://middle]]]
2022-12-10 15:56:23.794  INFO 13610 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://start"/>
    <to uri="mock://middle"/>
</route>
2022-12-10 15:56:23.800  INFO 13610 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock://middle]] --> after [To[mock://result]]
2022-12-10 15:56:23.800  INFO 13610 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x56b751b1], To[mock:end], To[log:org.apache.camel.example?level=INFO], To[mock://start], To[mock://middle], To[mock://result]]]
2022-12-10 15:56:23.804  INFO 13610 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://start"/>
    <to uri="mock://middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://start"/>
    <to uri="mock://middle"/>
    <to uri="mock://result"/>
</route>
2022-12-10 15:56:24.061  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 15:56:24.069  INFO 13610 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 15:56:24.075  INFO 13610 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 15:56:24.162  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 15:56:24.163  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:56:24.163  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 15:56:24.163  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:56:24.163  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:56:24.163  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:56:24.163  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 15:56:24.164  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:56:24.164  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 15:56:24.164  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:56:24.164  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 15:56:24.164  INFO 13610 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 492ms (build:133ms init:256ms start:103ms)
2022-12-10 15:56:24.173  INFO 13610 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-10 15:56:25.212  INFO 13610 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:25.547  INFO 13610 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:56:25.625  INFO 13610 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)Message-ID: <414993291.1.1670658985616@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_983735860.1670658985602"------=_Part_0_983735860.1670658985602Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_983735860.1670658985602--]
2022-12-10 15:56:25.627  INFO 13610 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@301ecc90
2022-12-10 15:56:25.629  INFO 13610 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)\r\nMessage-ID: <414993291.1.1670658985616@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_983735860.1670658985602\"\r\n\r\n------=_Part_0_983735860.1670658985602\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_983735860.1670658985602--\r\n"

2022-12-10 15:56:25.630  INFO 13610 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)
Message-ID: <414993291.1.1670658985616@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_983735860.1670658985602"

------=_Part_0_983735860.1670658985602
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_983735860.1670658985602--

2022-12-10 15:56:25.630  INFO 13610 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 15:56:25.630  INFO 13610 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 15:56:25.635  INFO 13610 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 15:56:25.636  INFO 13610 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:25.643  INFO 13610 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:25.653  INFO 13610 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-10 15:56:25.653  INFO 13610 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://result is satisfied
2022-12-10 15:56:25.655  INFO 13610 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:25.660  INFO 13610 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:56:25.664  INFO 13610 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)Message-ID: <45418229.5.1670658985663@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1415396058.1670658985663"------=_Part_4_1415396058.1670658985663Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1415396058.1670658985663--]
2022-12-10 15:56:25.665  INFO 13610 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@51f058b4
2022-12-10 15:56:25.666  INFO 13610 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)\r\nMessage-ID: <45418229.5.1670658985663@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1415396058.1670658985663\"\r\n\r\n------=_Part_4_1415396058.1670658985663\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1415396058.1670658985663--\r\n"

2022-12-10 15:56:25.667  INFO 13610 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)\r\nMessage-ID: <45418229.5.1670658985663@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1415396058.1670658985663\"\r\n\r\n------=_Part_4_1415396058.1670658985663\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1415396058.1670658985663--\r\n"]
2022-12-10 15:56:25.669  INFO 13610 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 15:56:25 +0800 (HKT)\r\nMessage-ID: <45418229.5.1670658985663@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1415396058.1670658985663\"\r\n\r\n------=_Part_4_1415396058.1670658985663\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1415396058.1670658985663--\r\n"

2022-12-10 15:56:25.676  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:56:25.678  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test0HTTP2Route (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 15:56:25.678  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 3s80ms (3080 millis)
2022-12-10 15:56:25.686  INFO 13610 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:56:25.687  INFO 13610 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.513 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 15:56:25.778  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 15:56:29.678  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 15:56:29.678  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 15:56:29.678  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:56:29.678  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 15:56:29.686  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:56:29.686  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 15:56:29.687  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:56:29.687  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:56:29.687  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:56:29.687  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 15:56:29.692  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:56:29.695  INFO 13610 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s917ms (uptime:5s634ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.563 s
[[1;34mINFO[m] Finished at: 2022-12-10T15:56:29+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
15:56:35.280 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
15:56:35.293 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
15:56:35.353 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
15:56:35.365 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
15:56:35.370 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
15:56:35.371 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
15:56:35.373 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
15:56:35.374 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:56:35.424 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
15:56:35.479 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
15:56:35.483 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:56:35.555 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
15:56:35.556 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
15:56:35.564 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
15:56:35.571 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
15:56:35.599 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
15:56:35.611 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:56:35.614 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 15:56:35.895  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 13722 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 15:56:35.901  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 15:56:38.271  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.638 seconds (JVM running for 4.001)
2022-12-10 15:56:38.298  INFO 13722 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 15:56:38.474  INFO 13722 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-10 15:56:38.476  INFO 13722 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 15:56:38.476  INFO 13722 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 15:56:39.635  INFO 13722 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-10 15:56:39.638  INFO 13722 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x5b59c3d], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-10 15:56:39.646  INFO 13722 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-10 15:56:39.955  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 15:56:39.968  INFO 13722 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 15:56:39.977  INFO 13722 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 15:56:40.006  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 15:56:40.007  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 15:56:40.008  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 15:56:40.008  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:56:40.009  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:56:40.009  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:56:40.011  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 15:56:40.012  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:56:40.012  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 15:56:40.013  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:56:40.015  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:56:40.017  INFO 13722 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 525ms (build:161ms init:303ms start:61ms)
2022-12-10 15:56:40.020  INFO 13722 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-10 15:56:41.065  INFO 13722 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:41.351  INFO 13722 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:41.363  INFO 13722 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:56:41.406  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:56:41.407  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test1ClientRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 15:56:41.407  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s929ms (2929 millis)
2022-12-10 15:56:41.407  INFO 13722 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:56:41.407  INFO 13722 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-10 15:56:41.469  INFO 13722 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)Message-ID: <277150450.1.1670659001443@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1139979066.1670659001425"------=_Part_0_1139979066.1670659001425Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1139979066.1670659001425--]
2022-12-10 15:56:41.471  INFO 13722 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@60dc7d80
2022-12-10 15:56:41.473  INFO 13722 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)\r\nMessage-ID: <277150450.1.1670659001443@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1139979066.1670659001425\"\r\n\r\n------=_Part_0_1139979066.1670659001425\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1139979066.1670659001425--\r\n"

2022-12-10 15:56:41.473  INFO 13722 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)
Message-ID: <277150450.1.1670659001443@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1139979066.1670659001425"

------=_Part_0_1139979066.1670659001425
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1139979066.1670659001425--

2022-12-10 15:56:41.474  INFO 13722 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 15:56:41.474  INFO 13722 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.292 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 15:56:41.499  INFO 13722 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 15:56:41.500  INFO 13722 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:41.506  INFO 13722 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:56:41.511  INFO 13722 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)Message-ID: <1224778196.3.1670659001511@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_2_1076060427.1670659001511"------=_Part_2_1076060427.1670659001511Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_2_1076060427.1670659001511--]
2022-12-10 15:56:41.513  INFO 13722 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@44276ac9
2022-12-10 15:56:41.513  INFO 13722 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)\r\nMessage-ID: <1224778196.3.1670659001511@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1076060427.1670659001511\"\r\n\r\n------=_Part_2_1076060427.1670659001511\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1076060427.1670659001511--\r\n"

2022-12-10 15:56:41.514  INFO 13722 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)\r\nMessage-ID: <1224778196.3.1670659001511@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1076060427.1670659001511\"\r\n\r\n------=_Part_2_1076060427.1670659001511\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1076060427.1670659001511--\r\n"]
2022-12-10 15:56:41.515  INFO 13722 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 15:56:41 +0800 (HKT)\r\nMessage-ID: <1224778196.3.1670659001511@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1076060427.1670659001511\"\r\n\r\n------=_Part_2_1076060427.1670659001511\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1076060427.1670659001511--\r\n"

2022-12-10 15:56:41.516  INFO 13722 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:41.603  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 15:56:43.514  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 15:56:43.515  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 15:56:43.519  INFO 13722 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 1s916ms (uptime:3s563ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.668 s
[[1;34mINFO[m] Finished at: 2022-12-10T15:56:43+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
15:56:49.121 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
15:56:49.131 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
15:56:49.172 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
15:56:49.188 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
15:56:49.193 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
15:56:49.195 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
15:56:49.197 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
15:56:49.198 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:56:49.249 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
15:56:49.327 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
15:56:49.332 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:56:49.432 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
15:56:49.433 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
15:56:49.447 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
15:56:49.469 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
15:56:49.513 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
15:56:49.533 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:56:49.536 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 15:56:49.937  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 13836 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 15:56:49.940  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 15:56:52.360  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.769 seconds (JVM running for 4.134)
2022-12-10 15:56:52.366  INFO 13836 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 15:56:52.526  INFO 13836 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-10 15:56:52.528  INFO 13836 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 15:56:52.528  INFO 13836 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 15:56:53.653  INFO 13836 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-10 15:56:53.658  INFO 13836 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@2c0fefac], To[mock:middle], To[mock://middle]]]
2022-12-10 15:56:53.666  INFO 13836 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-10 15:56:53.938  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 15:56:53.953  INFO 13836 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 15:56:53.962  INFO 13836 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 15:56:53.996  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 15:56:53.997  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:56:53.999  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 15:56:54.003  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:56:54.005  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:56:54.008  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:56:54.011  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 15:56:54.011  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 15:56:54.011  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:56:54.014  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:56:54.019  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 15:56:54.019  INFO 13836 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 491ms (build:145ms init:265ms start:81ms)
2022-12-10 15:56:54.028  INFO 13836 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-10 15:56:55.048  INFO 13836 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:55.272  INFO 13836 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:56:55.330  INFO 13836 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)Message-ID: <392546900.1.1670659015318@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_2085567303.1670659015306"------=_Part_0_2085567303.1670659015306Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_2085567303.1670659015306--]
2022-12-10 15:56:55.335  INFO 13836 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@4b4315b8
2022-12-10 15:56:55.338  INFO 13836 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)\r\nMessage-ID: <392546900.1.1670659015318@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_2085567303.1670659015306\"\r\n\r\n------=_Part_0_2085567303.1670659015306\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_2085567303.1670659015306--\r\n"

2022-12-10 15:56:55.338  INFO 13836 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)
Message-ID: <392546900.1.1670659015318@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_2085567303.1670659015306"

------=_Part_0_2085567303.1670659015306
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_2085567303.1670659015306--

2022-12-10 15:56:55.338  INFO 13836 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 15:56:55.339  INFO 13836 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 15:56:55.343  INFO 13836 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 15:56:55.345  INFO 13836 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:55.350  INFO 13836 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:55.356  INFO 13836 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:56:55.361  INFO 13836 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:56:55.365  INFO 13836 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)Message-ID: <85934737.5.1670659015365@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1486712777.1670659015365"------=_Part_4_1486712777.1670659015365Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1486712777.1670659015365--]
2022-12-10 15:56:55.367  INFO 13836 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@8a2ccc8
2022-12-10 15:56:55.368  INFO 13836 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)\r\nMessage-ID: <85934737.5.1670659015365@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1486712777.1670659015365\"\r\n\r\n------=_Part_4_1486712777.1670659015365\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1486712777.1670659015365--\r\n"

2022-12-10 15:56:55.368  INFO 13836 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)\r\nMessage-ID: <85934737.5.1670659015365@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1486712777.1670659015365\"\r\n\r\n------=_Part_4_1486712777.1670659015365\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1486712777.1670659015365--\r\n"]
2022-12-10 15:56:55.369  INFO 13836 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 15:56:55 +0800 (HKT)\r\nMessage-ID: <85934737.5.1670659015365@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1486712777.1670659015365\"\r\n\r\n------=_Part_4_1486712777.1670659015365\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1486712777.1670659015365--\r\n"

2022-12-10 15:56:55.380  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:56:55.385  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test2MiddleRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 15:56:55.387  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s851ms (2851 millis)
2022-12-10 15:56:55.388  INFO 13836 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:56:55.390  INFO 13836 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.381 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 15:56:55.481  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 15:56:57.390  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 15:56:57.395  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 15:56:57.400  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:56:57.406  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:56:57.407  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 15:56:57.408  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 15:56:57.408  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:56:57.409  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:56:57.409  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:56:57.409  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 15:56:57.409  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:56:57.413  INFO 13836 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 1s932ms (uptime:3s475ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.540 s
[[1;34mINFO[m] Finished at: 2022-12-10T15:56:57+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
15:57:03.330 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
15:57:03.338 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
15:57:03.372 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
15:57:03.385 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
15:57:03.389 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
15:57:03.390 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
15:57:03.391 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
15:57:03.392 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:57:03.448 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
15:57:03.500 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
15:57:03.537 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:57:03.650 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
15:57:03.651 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
15:57:03.657 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
15:57:03.678 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
15:57:03.711 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
15:57:03.737 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:57:03.747 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 15:57:03.992  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 13946 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 15:57:03.993  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 15:57:06.004  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.23 seconds (JVM running for 3.439)
2022-12-10 15:57:06.022  INFO 13946 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 15:57:06.182  INFO 13946 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-10 15:57:06.183  INFO 13946 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 15:57:06.183  INFO 13946 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 15:57:07.104  INFO 13946 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[log:org.apache.camel.example?level=INFO]] --> after [To[mock://result]]
2022-12-10 15:57:07.106  INFO 13946 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [process[Processor@0x56b751b1], To[mock:end], To[log:org.apache.camel.example?level=INFO], To[mock://result]]]
2022-12-10 15:57:07.112  INFO 13946 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <process/>
    <to uri="mock:end"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <to uri="mock://result"/>
</route>
2022-12-10 15:57:07.358  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 15:57:07.366  INFO 13946 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 15:57:07.377  INFO 13946 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 15:57:07.409  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 15:57:07.410  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:57:07.410  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 15:57:07.410  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:57:07.410  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:57:07.410  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:57:07.411  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 15:57:07.411  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:57:07.411  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 15:57:07.411  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:57:07.412  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 15:57:07.412  INFO 13946 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 474ms (build:180ms init:241ms start:53ms)
2022-12-10 15:57:07.415  INFO 13946 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://result is satisfied
2022-12-10 15:57:08.520  INFO 13946 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:08.764  INFO 13946 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:57:08.812  INFO 13946 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)Message-ID: <1053279461.1.1670659028798@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_1418775411.1670659028788"------=_Part_0_1418775411.1670659028788Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_1418775411.1670659028788--]
2022-12-10 15:57:08.814  INFO 13946 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@520e113e
2022-12-10 15:57:08.816  INFO 13946 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)\r\nMessage-ID: <1053279461.1.1670659028798@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_1418775411.1670659028788\"\r\n\r\n------=_Part_0_1418775411.1670659028788\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_1418775411.1670659028788--\r\n"

2022-12-10 15:57:08.817  INFO 13946 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)
Message-ID: <1053279461.1.1670659028798@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_1418775411.1670659028788"

------=_Part_0_1418775411.1670659028788
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_1418775411.1670659028788--

2022-12-10 15:57:08.817  INFO 13946 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 15:57:08.817  INFO 13946 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 15:57:08.833  INFO 13946 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 15:57:08.834  INFO 13946 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:08.839  INFO 13946 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:08.853  INFO 13946 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:08.858  INFO 13946 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:57:08.861  INFO 13946 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)Message-ID: <1968664222.5.1670659028861@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_875109974.1670659028860"------=_Part_4_875109974.1670659028860Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_875109974.1670659028860--]
2022-12-10 15:57:08.861  INFO 13946 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@67ca29cc
2022-12-10 15:57:08.862  INFO 13946 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)\r\nMessage-ID: <1968664222.5.1670659028861@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_875109974.1670659028860\"\r\n\r\n------=_Part_4_875109974.1670659028860\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_875109974.1670659028860--\r\n"

2022-12-10 15:57:08.862  INFO 13946 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)\r\nMessage-ID: <1968664222.5.1670659028861@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_875109974.1670659028860\"\r\n\r\n------=_Part_4_875109974.1670659028860\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_875109974.1670659028860--\r\n"]
2022-12-10 15:57:08.869  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:57:08.869  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test3EndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 15:57:08.869  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s685ms (2685 millis)
2022-12-10 15:57:08.869  INFO 13946 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:57:08.869  INFO 13946 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-10 15:57:08.870  INFO 13946 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 15:57:08 +0800 (HKT)\r\nMessage-ID: <1968664222.5.1670659028861@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_875109974.1670659028860\"\r\n\r\n------=_Part_4_875109974.1670659028860\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_875109974.1670659028860--\r\n"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.648 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 15:57:08.967  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 15:57:11.873  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 15:57:11.874  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 15:57:11.878  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:57:11.879  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 15:57:11.884  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:57:11.891  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 15:57:11.892  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:57:11.894  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:57:11.894  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:57:11.894  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 15:57:11.894  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:57:11.900  INFO 13946 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 2s933ms (uptime:4s541ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.942 s
[[1;34mINFO[m] Finished at: 2022-12-10T15:57:12+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
15:57:17.512 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
15:57:17.525 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
15:57:17.583 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
15:57:17.601 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
15:57:17.607 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
15:57:17.607 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
15:57:17.608 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
15:57:17.609 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:57:17.675 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
15:57:17.758 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
15:57:17.761 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:57:17.857 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
15:57:17.858 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
15:57:17.867 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
15:57:17.889 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@1e636ea3, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@115667d, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ce7fffa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75f95314, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6127a7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bbe2511, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@495fac5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@76012793, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@635572a7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79d94571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dd02341, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@495b0487]
15:57:17.917 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4fce136b testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@4aa83f4f testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2dfaea86, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14fc5f04, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@23f5b5dc, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@29d80d2b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aa078fd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3d8314f0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
15:57:17.934 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
15:57:17.949 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-10 15:57:18.357  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 14062 (started by root in /home/aaron/pccw/camel-grpc-example/camel-spring-boot-examples/grpc/hello-camel-grpc-test)
2022-12-10 15:57:18.359  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-10 15:57:20.703  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.713 seconds (JVM running for 4.129)
2022-12-10 15:57:20.709  INFO 14062 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-10 15:57:20.823  INFO 14062 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-10 15:57:20.824  INFO 14062 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-10 15:57:20.824  INFO 14062 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-10 15:57:21.852  INFO 14062 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:endgrpc]] --> after [To[mock://endgrpc]]
2022-12-10 15:57:21.855  INFO 14062 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x3c3cd13a], To[mock:endgrpc], To[mock://endgrpc]]]
2022-12-10 15:57:21.876  INFO 14062 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock:endgrpc"/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-10 15:57:22.185  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-10 15:57:22.195  INFO 14062 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-10 15:57:22.201  INFO 14062 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-10 15:57:22.227  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:10 started:10)
2022-12-10 15:57:22.228  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:57:22.228  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (timer://foo)
2022-12-10 15:57:22.229  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:57:22.229  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:57:22.229  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-10 15:57:22.232  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:57:22.233  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (timer://foo)
2022-12-10 15:57:22.233  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:57:22.234  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:57:22.235  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-10 15:57:22.235  INFO 14062 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 434ms (build:103ms init:281ms start:50ms)
2022-12-10 15:57:22.238  INFO 14062 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-10 15:57:23.283  INFO 14062 --- [7 - timer://foo] route1                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:23.581  INFO 14062 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-10 15:57:23.635  INFO 14062 --- [.0:19500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)Message-ID: <2142242934.1.1670659043626@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_0_386825913.1670659043602"------=_Part_0_386825913.1670659043602Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_0_386825913.1670659043602--]
2022-12-10 15:57:23.636  INFO 14062 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@584da08b
2022-12-10 15:57:23.638  INFO 14062 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)\r\nMessage-ID: <2142242934.1.1670659043626@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_0_386825913.1670659043602\"\r\n\r\n------=_Part_0_386825913.1670659043602\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_0_386825913.1670659043602--\r\n"

2022-12-10 15:57:23.639  INFO 14062 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)
Message-ID: <2142242934.1.1670659043626@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_0_386825913.1670659043602"

------=_Part_0_386825913.1670659043602
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_0_386825913.1670659043602--

2022-12-10 15:57:23.639  INFO 14062 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-10 15:57:23.639  INFO 14062 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-10 15:57:23.648  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:57:23.649  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test4EndGrpcRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-10 15:57:23.649  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s824ms (2824 millis)
2022-12-10 15:57:23.649  INFO 14062 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-10 15:57:23.649  INFO 14062 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-10 15:57:23.650  INFO 14062 --- [.0:19500/middle] route2                                   : Message body back multipart: name: "Camel"
city: "London"

2022-12-10 15:57:23.651  INFO 14062 --- [7 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:23.656  INFO 14062 --- [7 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:23.677  INFO 14062 --- [7 - timer://foo] route5                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-10 15:57:23.686  INFO 14062 --- [7 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: String, Body: name: "Camel"city: "London"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.248 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-10 15:57:23.691  INFO 14062 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: byte[], Body: Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)Message-ID: <401842412.5.1670659043691@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_4_1315250798.1670659043690"------=_Part_4_1315250798.1670659043690Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_4_1315250798.1670659043690--]
2022-12-10 15:57:23.702  INFO 14062 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : receivedBody is [B@619a012b
2022-12-10 15:57:23.702  INFO 14062 --- [.0.0.0:8123/foo] o.a.c.e.springboot.grpc.CamelHTTP2Route  : Message body back in grpc content: "Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)\r\nMessage-ID: <401842412.5.1670659043691@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1315250798.1670659043690\"\r\n\r\n------=_Part_4_1315250798.1670659043690\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1315250798.1670659043690--\r\n"

2022-12-10 15:57:23.703  INFO 14062 --- [.0.0.0:8123/foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOut, BodyType: org.apache.camel.examples.MimeContentRequest, Body: content: "Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)\r\nMessage-ID: <401842412.5.1670659043691@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1315250798.1670659043690\"\r\n\r\n------=_Part_4_1315250798.1670659043690\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1315250798.1670659043690--\r\n"]
2022-12-10 15:57:23.704  INFO 14062 --- [0.0:9500/middle] route6                                   : Message body back multipart: content: "Date: Sat, 10 Dec 2022 15:57:23 +0800 (HKT)\r\nMessage-ID: <401842412.5.1670659043691@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1315250798.1670659043690\"\r\n\r\n------=_Part_4_1315250798.1670659043690\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1315250798.1670659043690--\r\n"

2022-12-10 15:57:23.820  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-10 15:57:27.675  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:10 stopped:10)
2022-12-10 15:57:27.675  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-10 15:57:27.676  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-10 15:57:27.676  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-10 15:57:27.676  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (timer://foo)
2022-12-10 15:57:27.676  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-10 15:57:27.677  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-10 15:57:27.677  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-10 15:57:27.677  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:19500/middle)
2022-12-10 15:57:27.677  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (timer://foo)
2022-12-10 15:57:27.677  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-10 15:57:27.679  INFO 14062 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 3s859ms (uptime:5s494ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.357 s
[[1;34mINFO[m] Finished at: 2022-12-10T15:57:27+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
