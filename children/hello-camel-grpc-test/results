================== testing results ==================
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 18 source files to /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 1 source file to /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:17:36.669 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:17:36.679 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:17:36.704 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:17:36.711 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:17:36.713 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:17:36.714 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:17:36.714 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:17:36.714 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:17:36.741 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:17:36.772 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:17:36.774 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:17:36.824 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:17:36.824 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:17:36.828 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:17:36.842 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:17:36.866 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:17:36.875 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:17:36.883 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:17:37.045  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 16525 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:17:37.046  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:17:38.390  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.478 seconds (JVM running for 2.274)
2022-12-14 12:17:38.399  INFO 16525 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:17:38.480  INFO 16525 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-14 12:17:38.480  INFO 16525 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:17:38.480  INFO 16525 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:17:39.158  INFO 16525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:grpc://0.0.0.0:19500/middle]] --> after [To[mock://start]]
2022-12-14 12:17:39.160  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start0)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x6f65a203], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], Log[Message body after grpc: ${body}], WireTap[seda:grpc://0.0.0.0:19500/middle], To[mock://start]]]
2022-12-14 12:17:39.164  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <log message="Message body after grpc: ${body}"/>
    <wireTap uri="seda:grpc://0.0.0.0:19500/middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <log message="Message body after grpc: ${body}"/>
    <wireTap uri="seda:grpc://0.0.0.0:19500/middle"/>
    <to uri="mock://start"/>
</route>
2022-12-14 12:17:39.172  INFO 16525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18123/foo]] --> after [To[mock://middle]]
2022-12-14 12:17:39.172  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle0)[From[seda:grpc://0.0.0.0:19500/middle] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@778197c0], Log[Message body after multipart: ${body}], WireTap[seda:netty-http:http://0.0.0.0:18123/foo], To[mock://middle]]]
2022-12-14 12:17:39.176  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:grpc://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <log message="Message body after multipart: ${body}"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:grpc://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <log message="Message body after multipart: ${body}"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <to uri="mock://middle"/>
</route>
2022-12-14 12:17:39.180  INFO 16525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18124/foo]] --> after [To[mock://end]]
2022-12-14 12:17:39.181  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end0)[From[seda:netty-http:http://0.0.0.0:18123/foo] -> [process[Processor@0x1169fdfd], WireTap[seda:netty-http:http://0.0.0.0:18124/foo], To[mock://end]]]
2022-12-14 12:17:39.185  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <to uri="mock://end"/>
</route>
2022-12-14 12:17:39.188  INFO 16525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [process[Processor@0x48f4f03e]] --> after [To[mock://endgrpc]]
2022-12-14 12:17:39.188  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x48f4f03e], To[mock://endgrpc]]]
2022-12-14 12:17:39.192  INFO 16525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-14 12:17:39.403  INFO 16525 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:17:39.404  INFO 16525 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:17:39.410  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:17:39.421  INFO 16525 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:17:39.425  INFO 16525 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:17:39.447  INFO 16525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 349ms (build:96ms init:217ms start:36ms)
2022-12-14 12:17:39.448  INFO 16525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-14 12:17:40.566  INFO 16525 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:40.906  INFO 16525 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:17:40.913  INFO 16525 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:40.914  INFO 16525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-14 12:17:40.920  INFO 16525 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:17:40 +0800 (HKT)
Message-ID: <221549520.3.1670991460919@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1568660462.1670991460919"

------=_Part_2_1568660462.1670991460919
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1568660462.1670991460919--

2022-12-14 12:17:40.921  INFO 16525 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:40.923  INFO 16525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-14 12:17:40.925  INFO 16525 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@5e2db505
2022-12-14 12:17:40.927  INFO 16525 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:17:40 +0800 (HKT)\r\nMessage-ID: <221549520.3.1670991460919@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1568660462.1670991460919\"\r\n\r\n------=_Part_2_1568660462.1670991460919\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1568660462.1670991460919--\r\n"

2022-12-14 12:17:40.928  INFO 16525 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:40.928  INFO 16525 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670991460928, firedTime=Wed Dec 14 12:17:40 HKT 2022}
2022-12-14 12:17:40.929  INFO 16525 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:17:40.931  INFO 16525 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:17:40 +0800 (HKT)Message-ID: <2109914209.7.1670991460931@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1575108896.1670991460931"------=_Part_6_1575108896.1670991460931Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1575108896.1670991460931--]
2022-12-14 12:17:40.932  INFO 16525 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670991460928, Date=Wed, 14 Dec 2022 12:17:40 +0800 (HKT), firedTime=Wed Dec 14 12:17:40 HKT 2022}
2022-12-14 12:17:40.932  INFO 16525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-14 12:17:40.932  INFO 16525 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:17:40 +0800 (HKT)
Message-ID: <2109914209.7.1670991460931@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1575108896.1670991460931"

------=_Part_6_1575108896.1670991460931
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1575108896.1670991460931--

2022-12-14 12:17:40.934  INFO 16525 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:17:40 +0800 (HKT)
Message-ID: <221549520.3.1670991460919@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1568660462.1670991460919"

------=_Part_2_1568660462.1670991460919
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1568660462.1670991460919--

2022-12-14 12:17:40.934  INFO 16525 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:17:40.934  INFO 16525 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:17:40.939  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:17:40.939  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test0HTTP2Route (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:17:40.939  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s459ms (2459 millis)
2022-12-14 12:17:40.940  INFO 16525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:17:40.940  INFO 16525 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.331 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:17:41.007  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:17:45.953  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:17:45.954  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:17:45.954  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:17:45.954  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:17:45.954  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:17:45.955  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:17:45.956  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:17:45.956  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:17:45.956  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:17:45.956  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:17:45.956  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:17:45.956  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:17:45.957  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:17:45.957  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:17:45.960  INFO 16525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 4s953ms (uptime:6s549ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  13.308 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:17:46+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 1 source file to /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:17:50.037 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:17:50.042 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:17:50.064 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:17:50.071 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:17:50.088 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:17:50.089 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:17:50.089 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:17:50.090 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:17:50.152 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:17:50.222 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:17:50.225 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:17:50.320 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:17:50.321 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:17:50.333 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:17:50.337 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:17:50.362 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:17:50.373 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:17:50.375 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:17:50.535  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 16647 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:17:50.536  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:17:52.090  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.703 seconds (JVM running for 2.631)
2022-12-14 12:17:52.094  INFO 16647 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:17:52.182  INFO 16647 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-14 12:17:52.182  INFO 16647 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:17:52.183  INFO 16647 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:17:52.815  INFO 16647 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-14 12:17:52.816  INFO 16647 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x46188a89], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-14 12:17:52.820  INFO 16647 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-14 12:17:52.976  INFO 16647 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:17:52.977  INFO 16647 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:17:52.978  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:17:52.985  INFO 16647 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:17:52.990  INFO 16647 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:17:53.004  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:17:53.005  INFO 16647 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 288ms (build:107ms init:155ms start:26ms)
2022-12-14 12:17:53.006  INFO 16647 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-14 12:17:54.063  INFO 16647 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:54.325  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:17:54.325  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test1ClientRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:17:54.326  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s142ms (2142 millis)
2022-12-14 12:17:54.327  INFO 16647 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:17:54.327  INFO 16647 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-14 12:17:54.329  INFO 16647 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:54.338  INFO 16647 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.351 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:17:54.359  INFO 16647 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:54.359  INFO 16647 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670991474359, firedTime=Wed Dec 14 12:17:54 HKT 2022}
2022-12-14 12:17:54.360  INFO 16647 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:17:54.360  INFO 16647 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:17:54.366  INFO 16647 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:17:54 +0800 (HKT)Message-ID: <684533023.3.1670991474366@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_2_726704894.1670991474365"------=_Part_2_726704894.1670991474365Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_2_726704894.1670991474365--]
2022-12-14 12:17:54.368  INFO 16647 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670991474359, Date=Wed, 14 Dec 2022 12:17:54 +0800 (HKT), firedTime=Wed Dec 14 12:17:54 HKT 2022}
2022-12-14 12:17:54.370  INFO 16647 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:17:54 +0800 (HKT)
Message-ID: <684533023.3.1670991474366@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_726704894.1670991474365"

------=_Part_2_726704894.1670991474365
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_726704894.1670991474365--

2022-12-14 12:17:54.374  INFO 16647 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:17:54 +0800 (HKT)
Message-ID: <1438369801.7.1670991474374@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1869831219.1670991474374"

------=_Part_6_1869831219.1670991474374
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1869831219.1670991474374--

2022-12-14 12:17:54.382  INFO 16647 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@103a11ed
2022-12-14 12:17:54.384  INFO 16647 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:17:54 +0800 (HKT)\r\nMessage-ID: <1438369801.7.1670991474374@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_6_1869831219.1670991474374\"\r\n\r\n------=_Part_6_1869831219.1670991474374\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_6_1869831219.1670991474374--\r\n"

2022-12-14 12:17:54.390  INFO 16647 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:17:54 +0800 (HKT)
Message-ID: <1438369801.7.1670991474374@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1869831219.1670991474374"

------=_Part_6_1869831219.1670991474374
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1869831219.1670991474374--

2022-12-14 12:17:54.390  INFO 16647 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:17:54.390  INFO 16647 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:17:54.429  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:17:59.391  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:17:59.394  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:17:59.394  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:17:59.394  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:17:59.394  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:17:59.396  INFO 16647 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 4s967ms (uptime:6s417ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.711 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:17:59+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:18:02.736 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:18:02.743 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:18:02.765 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:18:02.772 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:18:02.775 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:18:02.775 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:18:02.775 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:18:02.776 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:18:02.805 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:18:02.840 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:18:02.842 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:02.893 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:18:02.900 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:18:02.905 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:18:02.918 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:18:02.954 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:18:02.965 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:02.974 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:18:03.145  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 16774 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:18:03.146  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:18:04.215  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.216 seconds (JVM running for 1.938)
2022-12-14 12:18:04.218  INFO 16774 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:18:04.277  INFO 16774 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-14 12:18:04.277  INFO 16774 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:18:04.277  INFO 16774 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:18:04.805  INFO 16774 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-14 12:18:04.806  INFO 16774 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3b2c8bda], To[mock:middle], To[mock://middle]]]
2022-12-14 12:18:04.808  INFO 16774 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-14 12:18:04.983  INFO 16774 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:18:04.983  INFO 16774 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:18:04.985  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:18:04.991  INFO 16774 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:18:04.994  INFO 16774 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:05.009  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:05.010  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:18:05.010  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:18:05.010  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:05.010  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:05.010  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:18:05.010  INFO 16774 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 269ms (build:71ms init:173ms start:25ms)
2022-12-14 12:18:05.012  INFO 16774 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-14 12:18:06.080  INFO 16774 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:06.394  INFO 16774 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:18:06.396  INFO 16774 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:06.400  INFO 16774 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:18:06 +0800 (HKT)
Message-ID: <814880463.3.1670991486400@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1954505916.1670991486399"

------=_Part_2_1954505916.1670991486399
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1954505916.1670991486399--

2022-12-14 12:18:06.402  INFO 16774 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:06.406  INFO 16774 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:06.407  INFO 16774 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670991486406, firedTime=Wed Dec 14 12:18:06 HKT 2022}
2022-12-14 12:18:06.408  INFO 16774 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:18:06.410  INFO 16774 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:18:06 +0800 (HKT)Message-ID: <1871549822.7.1670991486410@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1249985774.1670991486410"------=_Part_6_1249985774.1670991486410Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1249985774.1670991486410--]
2022-12-14 12:18:06.410  INFO 16774 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:18:06 +0800 (HKT)
Message-ID: <1871549822.7.1670991486410@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1249985774.1670991486410"

------=_Part_6_1249985774.1670991486410
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1249985774.1670991486410--

2022-12-14 12:18:06.411  INFO 16774 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670991486406, Date=Wed, 14 Dec 2022 12:18:06 +0800 (HKT), firedTime=Wed Dec 14 12:18:06 HKT 2022}
2022-12-14 12:18:06.414  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:06.415  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test2MiddleRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:18:06.415  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s137ms (2137 millis)
2022-12-14 12:18:06.415  INFO 16774 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:06.415  INFO 16774 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-14 12:18:06.415  INFO 16774 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@4f70c378
2022-12-14 12:18:06.417  INFO 16774 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:18:06 +0800 (HKT)\r\nMessage-ID: <814880463.3.1670991486400@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1954505916.1670991486399\"\r\n\r\n------=_Part_2_1954505916.1670991486399\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1954505916.1670991486399--\r\n"

2022-12-14 12:18:06.426  INFO 16774 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:18:06 +0800 (HKT)
Message-ID: <814880463.3.1670991486400@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1954505916.1670991486399"

------=_Part_2_1954505916.1670991486399
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1954505916.1670991486399--

2022-12-14 12:18:06.432  INFO 16774 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:18:06.432  INFO 16774 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.759 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:18:06.487  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:18:12.428  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:18:12.429  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:18:12.431  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:12.431  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:12.431  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:18:12.432  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:18:12.432  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:18:12.434  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:12.438  INFO 16774 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s951ms (uptime:7s453ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.306 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:18:12+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:18:15.702 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:18:15.710 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:18:15.735 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:18:15.747 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:18:15.750 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:18:15.751 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:18:15.752 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:18:15.753 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:18:15.816 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:18:15.872 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:18:15.876 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:15.944 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:18:15.944 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:18:15.950 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:18:15.955 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:18:15.973 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:18:15.981 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:15.983 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:18:16.197  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 16895 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:18:16.198  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:18:17.689  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.691 seconds (JVM running for 2.399)
2022-12-14 12:18:17.692  INFO 16895 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:18:17.755  INFO 16895 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-14 12:18:17.756  INFO 16895 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:18:17.756  INFO 16895 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:18:18.321  INFO 16895 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:end]] --> after [To[mock://end]]
2022-12-14 12:18:18.322  INFO 16895 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3b2c8bda], Log[Message headers in ending grpc: ${headers}], To[mock:end], To[mock://end]]]
2022-12-14 12:18:18.325  INFO 16895 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock:end"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock:end"/>
    <to uri="mock://end"/>
</route>
2022-12-14 12:18:18.490  INFO 16895 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:18:18.491  INFO 16895 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:18:18.492  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:18:18.499  INFO 16895 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:18:18.505  INFO 16895 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:18:18.517  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:18:18.517  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:18.517  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:18:18.518  INFO 16895 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 298ms (build:109ms init:164ms start:25ms)
2022-12-14 12:18:18.526  INFO 16895 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-14 12:18:19.586  INFO 16895 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:19.866  INFO 16895 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:18:19.868  INFO 16895 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:19.873  INFO 16895 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:18:19 +0800 (HKT)
Message-ID: <137257752.3.1670991499873@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1588195811.1670991499873"

------=_Part_2_1588195811.1670991499873
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1588195811.1670991499873--

2022-12-14 12:18:19.873  INFO 16895 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:19.877  INFO 16895 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@6f5ba7f1
2022-12-14 12:18:19.879  INFO 16895 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:19.880  INFO 16895 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670991499879, firedTime=Wed Dec 14 12:18:19 HKT 2022}
2022-12-14 12:18:19.880  INFO 16895 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:18:19 +0800 (HKT)\r\nMessage-ID: <137257752.3.1670991499873@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1588195811.1670991499873\"\r\n\r\n------=_Part_2_1588195811.1670991499873\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1588195811.1670991499873--\r\n"

2022-12-14 12:18:19.880  INFO 16895 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:18:19.882  INFO 16895 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:18:19 +0800 (HKT)Message-ID: <1871549822.7.1670991499882@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1249985774.1670991499882"------=_Part_6_1249985774.1670991499882Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1249985774.1670991499882--]
2022-12-14 12:18:19.882  INFO 16895 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:18:19 +0800 (HKT)
Message-ID: <1871549822.7.1670991499882@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1249985774.1670991499882"

------=_Part_6_1249985774.1670991499882
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1249985774.1670991499882--

2022-12-14 12:18:19.883  INFO 16895 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670991499879, Date=Wed, 14 Dec 2022 12:18:19 +0800 (HKT), firedTime=Wed Dec 14 12:18:19 HKT 2022}
2022-12-14 12:18:19.887  INFO 16895 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:18:19 +0800 (HKT)
Message-ID: <137257752.3.1670991499873@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1588195811.1670991499873"

------=_Part_2_1588195811.1670991499873
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1588195811.1670991499873--

2022-12-14 12:18:19.887  INFO 16895 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:18:19.887  INFO 16895 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:18:19.892  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:19.893  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test3EndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:18:19.893  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s136ms (2136 millis)
2022-12-14 12:18:19.893  INFO 16895 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:19.894  INFO 16895 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.248 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:18:19.962  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:18:25.908  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:18:25.908  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:18:25.911  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:25.911  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:18:25.917  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:18:25.918  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:25.920  INFO 16895 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s958ms (uptime:7s427ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.830 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:18:25+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:18:29.262 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:18:29.268 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:18:29.289 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:18:29.297 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:18:29.299 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:18:29.300 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:18:29.300 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:18:29.301 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:18:29.341 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:18:29.371 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:18:29.373 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:29.418 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:18:29.418 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:18:29.432 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:18:29.438 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:18:29.480 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:18:29.496 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:29.497 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:18:29.648  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 17015 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:18:29.649  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:18:30.792  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.267 seconds (JVM running for 1.961)
2022-12-14 12:18:30.795  INFO 17015 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:18:30.862  INFO 17015 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-14 12:18:30.862  INFO 17015 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:18:30.862  INFO 17015 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:18:31.420  INFO 17015 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [process[Processor@0x7fd2a67a]] --> after [To[mock://endgrpc]]
2022-12-14 12:18:31.421  INFO 17015 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x7fd2a67a], To[mock://endgrpc]]]
2022-12-14 12:18:31.427  INFO 17015 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-14 12:18:31.595  INFO 17015 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:18:31.595  INFO 17015 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:18:31.597  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:18:31.603  INFO 17015 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:18:31.606  INFO 17015 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:18:31.617  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:18:31.618  INFO 17015 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 257ms (build:69ms init:167ms start:21ms)
2022-12-14 12:18:31.621  INFO 17015 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-14 12:18:32.692  INFO 17015 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:32.936  INFO 17015 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:18:32.938  INFO 17015 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:32.943  INFO 17015 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:18:32 +0800 (HKT)
Message-ID: <257299262.3.1670991512943@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_394743119.1670991512943"

------=_Part_2_394743119.1670991512943
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_394743119.1670991512943--

2022-12-14 12:18:32.944  INFO 17015 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:32.947  INFO 17015 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@99c6884
2022-12-14 12:18:32.950  INFO 17015 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:32.950  INFO 17015 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670991512950, firedTime=Wed Dec 14 12:18:32 HKT 2022}
2022-12-14 12:18:32.951  INFO 17015 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:18:32.953  INFO 17015 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:18:32 +0800 (HKT)\r\nMessage-ID: <257299262.3.1670991512943@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_394743119.1670991512943\"\r\n\r\n------=_Part_2_394743119.1670991512943\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_394743119.1670991512943--\r\n"

2022-12-14 12:18:32.953  INFO 17015 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:18:32 +0800 (HKT)Message-ID: <1772048705.7.1670991512953@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1404990546.1670991512953"------=_Part_6_1404990546.1670991512953Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1404990546.1670991512953--]
2022-12-14 12:18:32.954  INFO 17015 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670991512950, Date=Wed, 14 Dec 2022 12:18:32 +0800 (HKT), firedTime=Wed Dec 14 12:18:32 HKT 2022}
2022-12-14 12:18:32.954  INFO 17015 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:18:32 +0800 (HKT)
Message-ID: <1772048705.7.1670991512953@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1404990546.1670991512953"

------=_Part_6_1404990546.1670991512953
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1404990546.1670991512953--

2022-12-14 12:18:32.956  INFO 17015 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:18:32 +0800 (HKT)
Message-ID: <257299262.3.1670991512943@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_394743119.1670991512943"

------=_Part_2_394743119.1670991512943
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_394743119.1670991512943--

2022-12-14 12:18:32.956  INFO 17015 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:18:32.956  INFO 17015 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:18:32.973  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:32.974  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test4EndGrpcRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:18:32.975  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s111ms (2111 millis)
2022-12-14 12:18:32.976  INFO 17015 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:32.976  INFO 17015 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.775 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:18:33.039  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:18:37.971  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:18:37.971  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:18:37.972  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:37.974  INFO 17015 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 4s935ms (uptime:6s377ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  11.789 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:18:38+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:18:41.948 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:18:41.954 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:18:41.989 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:18:41.995 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:18:41.999 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:18:42.002 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:18:42.002 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:18:42.004 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:18:42.033 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:18:42.066 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:18:42.069 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:42.114 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:18:42.114 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:18:42.127 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:18:42.135 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:18:42.164 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:18:42.170 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:18:42.172 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:18:42.303  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 17135 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:18:42.304  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:18:43.489  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.305 seconds (JVM running for 1.972)
2022-12-14 12:18:43.493  INFO 17135 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:18:43.576  INFO 17135 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test5FileRoute
2022-12-14 12:18:43.577  INFO 17135 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:18:43.577  INFO 17135 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:18:44.122  INFO 17135 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[file:files/output]] --> after [To[mock://fileEnd]]
2022-12-14 12:18:44.124  INFO 17135 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(httpFIleRoute)[From[seda:netty-http:http://0.0.0.0:8323/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3b2c8bda], To[file:files/output], To[mock://fileEnd]]]
2022-12-14 12:18:44.127  INFO 17135 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="httpFIleRoute">
    <from uri="seda:netty-http:http://0.0.0.0:8323/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <to uri="file:files/output"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="httpFIleRoute">
    <from uri="seda:netty-http:http://0.0.0.0:8323/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <to uri="file:files/output"/>
    <to uri="mock://fileEnd"/>
</route>
2022-12-14 12:18:44.284  INFO 17135 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:18:44.284  INFO 17135 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:18:44.286  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:18:44.292  INFO 17135 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:18:44.296  INFO 17135 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:18:44.308  INFO 17135 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 257ms (build:76ms init:159ms start:22ms)
2022-12-14 12:18:44.310  INFO 17135 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://fileEnd is satisfied
2022-12-14 12:18:45.399  INFO 17135 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:45.672  INFO 17135 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:18:45.674  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:45.675  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test5FileRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:18:45.675  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s97ms (2097 millis)
2022-12-14 12:18:45.676  INFO 17135 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:18:45.677  INFO 17135 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test5FileRoute
2022-12-14 12:18:45.681  INFO 17135 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:18:45 +0800 (HKT)
Message-ID: <1098290544.3.1670991525681@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1544606154.1670991525681"

------=_Part_2_1544606154.1670991525681
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1544606154.1670991525681--

2022-12-14 12:18:45.682  INFO 17135 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@1e8570ae
2022-12-14 12:18:45.684  INFO 17135 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:18:45 +0800 (HKT)\r\nMessage-ID: <1098290544.3.1670991525681@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1544606154.1670991525681\"\r\n\r\n------=_Part_2_1544606154.1670991525681\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1544606154.1670991525681--\r\n"

2022-12-14 12:18:45.685  INFO 17135 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:45.690  INFO 17135 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:18:45 +0800 (HKT)
Message-ID: <1098290544.3.1670991525681@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1544606154.1670991525681"

------=_Part_2_1544606154.1670991525681
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1544606154.1670991525681--

2022-12-14 12:18:45.690  INFO 17135 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:18:45.690  INFO 17135 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:18:45.697  INFO 17135 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:45.703  INFO 17135 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:18:45.704  INFO 17135 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670991525703, firedTime=Wed Dec 14 12:18:45 HKT 2022}
2022-12-14 12:18:45.704  INFO 17135 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:18:45.706  INFO 17135 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:18:45 +0800 (HKT)Message-ID: <1780573663.7.1670991525706@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_411907963.1670991525706"------=_Part_6_411907963.1670991525706Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_411907963.1670991525706--]
2022-12-14 12:18:45.706  INFO 17135 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:18:45 +0800 (HKT)
Message-ID: <1780573663.7.1670991525706@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_411907963.1670991525706"

------=_Part_6_411907963.1670991525706
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_411907963.1670991525706--

2022-12-14 12:18:45.707  INFO 17135 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670991525703, Date=Wed, 14 Dec 2022 12:18:45 +0800 (HKT), firedTime=Wed Dec 14 12:18:45 HKT 2022}
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.811 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:18:45.745  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:18:52.673  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:18:52.676  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:18:52.677  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:18:52.678  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:18:52.678  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:18:52.680  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:18:52.680  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:18:52.682  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:18:52.689  INFO 17135 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 6s944ms (uptime:8s403ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  13.605 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:18:52+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
