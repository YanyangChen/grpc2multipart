================== testing results ==================
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 19 source files to /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 1 source file to /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:27:28.698 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:27:28.707 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:27:28.736 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:27:28.745 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:27:28.749 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:27:28.750 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:27:28.751 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:27:28.752 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:27:28.826 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:27:28.870 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:27:28.873 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:27:28.962 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:27:28.963 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:27:28.974 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:27:28.998 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:27:29.021 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:27:29.023 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:27:29.289  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 34453 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:27:29.298  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:27:31.253  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.213 seconds (JVM running for 3.223)
2022-12-14 16:27:31.285  INFO 34453 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:27:31.383  INFO 34453 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-14 16:27:31.384  INFO 34453 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:27:31.384  INFO 34453 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 16:27:32.007  INFO 34453 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:grpc://0.0.0.0:19500/middle]] --> after [To[mock://start]]
2022-12-14 16:27:32.008  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start0)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x1958524b], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], Log[Message body after grpc: ${body}], WireTap[seda:grpc://0.0.0.0:19500/middle], To[mock://start]]]
2022-12-14 16:27:32.012  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <log message="Message body after grpc: ${body}"/>
    <wireTap uri="seda:grpc://0.0.0.0:19500/middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <log message="Message body after grpc: ${body}"/>
    <wireTap uri="seda:grpc://0.0.0.0:19500/middle"/>
    <to uri="mock://start"/>
</route>
2022-12-14 16:27:32.022  INFO 34453 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18123/foo]] --> after [To[mock://middle]]
2022-12-14 16:27:32.022  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle0)[From[seda:grpc://0.0.0.0:19500/middle] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@5e02fb23], Log[Message body after multipart: ${body}], WireTap[seda:netty-http:http://0.0.0.0:18123/foo], To[mock://middle]]]
2022-12-14 16:27:32.025  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:grpc://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <log message="Message body after multipart: ${body}"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:grpc://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <log message="Message body after multipart: ${body}"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <to uri="mock://middle"/>
</route>
2022-12-14 16:27:32.029  INFO 34453 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18124/foo]] --> after [To[mock://end]]
2022-12-14 16:27:32.030  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end0)[From[seda:netty-http:http://0.0.0.0:18123/foo] -> [process[Processor@0x38363e96], WireTap[seda:netty-http:http://0.0.0.0:18124/foo], To[mock://end]]]
2022-12-14 16:27:32.031  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <to uri="mock://end"/>
</route>
2022-12-14 16:27:32.034  INFO 34453 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [process[Processor@0x402676e3]] --> after [To[mock://endgrpc]]
2022-12-14 16:27:32.034  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x402676e3], To[mock://endgrpc]]]
2022-12-14 16:27:32.035  INFO 34453 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-14 16:27:32.328  INFO 34453 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:27:32.328  INFO 34453 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:27:32.361  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:27:32.420  INFO 34453 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:27:32.638  INFO 34453 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:27:32.652  INFO 34453 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:27:32.683  INFO 34453 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4654ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:27:32.762  INFO 34453 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:27:32.794  INFO 34453 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@1a22325d{/,null,AVAILABLE}
2022-12-14 16:27:32.803  INFO 34453 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@74267ece{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:27:32.804  INFO 34453 --- [           main] org.eclipse.jetty.server.Server          : Started @4774ms
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://order)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:27:32.812  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:27:32.813  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:27:32.813  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:27:32.813  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:27:32.813  INFO 34453 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 840ms (build:63ms init:326ms start:451ms)
2022-12-14 16:27:32.814  INFO 34453 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-14 16:27:33.937  INFO 34453 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:34.216  INFO 34453 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:27:34.218  INFO 34453 --- [2 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:34.221  INFO 34453 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-14 16:27:34.227  INFO 34453 --- [2 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:34.226  INFO 34453 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:27:34 +0800 (HKT)
Message-ID: <225128323.3.1671006454225@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1963425065.1671006454224"

------=_Part_2_1963425065.1671006454224
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1963425065.1671006454224--

2022-12-14 16:27:34.231  INFO 34453 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-14 16:27:34.232  INFO 34453 --- [2 - timer://foo] route7                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:34.233  INFO 34453 --- [2 - timer://foo] route7                                   : Message headers in grpc: {CamelMessageTimestamp=1671006454232, firedTime=Wed Dec 14 16:27:34 HKT 2022}
2022-12-14 16:27:34.233  INFO 34453 --- [2 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 16:27:34.235  INFO 34453 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 16:27:34 +0800 (HKT)Message-ID: <45830719.7.1671006454235@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_359649450.1671006454235"------=_Part_6_359649450.1671006454235Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_359649450.1671006454235--]
2022-12-14 16:27:34.236  INFO 34453 --- [0.0:9500/middle] route8                                   : Message body back multipart: Date: Wed, 14 Dec 2022 16:27:34 +0800 (HKT)
Message-ID: <45830719.7.1671006454235@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_359649450.1671006454235"

------=_Part_6_359649450.1671006454235
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_359649450.1671006454235--

2022-12-14 16:27:34.236  INFO 34453 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1671006454232, Date=Wed, 14 Dec 2022 16:27:34 +0800 (HKT), firedTime=Wed Dec 14 16:27:34 HKT 2022}
2022-12-14 16:27:34.236  INFO 34453 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-14 16:27:34.242  INFO 34453 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@7ec8525d
2022-12-14 16:27:34.244  INFO 34453 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:27:34 +0800 (HKT)\r\nMessage-ID: <225128323.3.1671006454225@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1963425065.1671006454224\"\r\n\r\n------=_Part_2_1963425065.1671006454224\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1963425065.1671006454224--\r\n"

2022-12-14 16:27:34.250  INFO 34453 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:27:34 +0800 (HKT)
Message-ID: <225128323.3.1671006454225@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1963425065.1671006454224"

------=_Part_2_1963425065.1671006454224
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1963425065.1671006454224--

2022-12-14 16:27:34.251  INFO 34453 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:27:34.251  INFO 34453 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 16:27:34.261  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:27:34.261  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test0HTTP2Route (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:27:34.261  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s877ms (2877 millis)
2022-12-14 16:27:34.261  INFO 34453 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:27:34.261  INFO 34453 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.668 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:27:34.348  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:27:41.262  INFO 34453 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@74267ece{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:27:41.264  INFO 34453 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@1a22325d{/,null,STOPPED}
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://order)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:27:41.274  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:27:41.283  INFO 34453 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 6s935ms (uptime:8s921ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  17.885 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:27:41+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:27:44.900 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:27:44.910 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:27:44.952 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:27:44.960 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:27:44.963 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:27:44.963 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:27:44.966 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:27:44.967 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:27:45.021 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:27:45.066 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:27:45.070 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:27:45.128 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:27:45.128 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:27:45.141 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:27:45.160 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:27:45.170 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:27:45.171 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:27:45.404  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 34598 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:27:45.417  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:27:47.466  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.277 seconds (JVM running for 3.226)
2022-12-14 16:27:47.472  INFO 34598 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:27:47.566  INFO 34598 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-14 16:27:47.566  INFO 34598 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:27:47.567  INFO 34598 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 16:27:48.198  INFO 34598 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-14 16:27:48.198  INFO 34598 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x670ae31f], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-14 16:27:48.205  INFO 34598 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-14 16:27:48.493  INFO 34598 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:27:48.493  INFO 34598 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:27:48.533  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:27:48.573  INFO 34598 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:27:48.677  INFO 34598 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:27:48.682  INFO 34598 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:27:48.697  INFO 34598 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4457ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:27:48.747  INFO 34598 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:27:48.768  INFO 34598 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@49c555c3{/,null,AVAILABLE}
2022-12-14 16:27:48.777  INFO 34598 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@1c24639e{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:27:48.778  INFO 34598 --- [           main] org.eclipse.jetty.server.Server          : Started @4538ms
2022-12-14 16:27:48.782  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://order)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:27:48.783  INFO 34598 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 656ms (build:82ms init:324ms start:250ms)
2022-12-14 16:27:48.786  INFO 34598 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-14 16:27:49.814  INFO 34598 --- [2 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:50.091  INFO 34598 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:50.096  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:27:50.098  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test1ClientRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:27:50.098  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s529ms (2529 millis)
2022-12-14 16:27:50.098  INFO 34598 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:27:50.098  INFO 34598 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-14 16:27:50.100  INFO 34598 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:27:50.107  INFO 34598 --- [2 - timer://foo] route7                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:50.107  INFO 34598 --- [2 - timer://foo] route7                                   : Message headers in grpc: {CamelMessageTimestamp=1671006470106, firedTime=Wed Dec 14 16:27:50 HKT 2022}
2022-12-14 16:27:50.108  INFO 34598 --- [2 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 16:27:50.108  INFO 34598 --- [2 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:27:50.111  INFO 34598 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 16:27:50 +0800 (HKT)Message-ID: <1834364680.3.1671006470110@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_2_1455924507.1671006470110"------=_Part_2_1455924507.1671006470110Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_2_1455924507.1671006470110--]
2022-12-14 16:27:50.112  INFO 34598 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1671006470106, Date=Wed, 14 Dec 2022 16:27:50 +0800 (HKT), firedTime=Wed Dec 14 16:27:50 HKT 2022}
2022-12-14 16:27:50.117  INFO 34598 --- [0.0:9500/middle] route8                                   : Message body back multipart: Date: Wed, 14 Dec 2022 16:27:50 +0800 (HKT)
Message-ID: <1834364680.3.1671006470110@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1455924507.1671006470110"

------=_Part_2_1455924507.1671006470110
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1455924507.1671006470110--

2022-12-14 16:27:50.118  INFO 34598 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:27:50 +0800 (HKT)
Message-ID: <552808164.7.1671006470118@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1053491666.1671006470118"

------=_Part_6_1053491666.1671006470118
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1053491666.1671006470118--

2022-12-14 16:27:50.119  INFO 34598 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@9ae717b
2022-12-14 16:27:50.121  INFO 34598 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:27:50 +0800 (HKT)\r\nMessage-ID: <552808164.7.1671006470118@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_6_1053491666.1671006470118\"\r\n\r\n------=_Part_6_1053491666.1671006470118\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_6_1053491666.1671006470118--\r\n"

2022-12-14 16:27:50.129  INFO 34598 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:27:50 +0800 (HKT)
Message-ID: <552808164.7.1671006470118@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1053491666.1671006470118"

------=_Part_6_1053491666.1671006470118
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1053491666.1671006470118--

2022-12-14 16:27:50.133  INFO 34598 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:27:50.133  INFO 34598 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.311 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:27:50.164  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:27:57.135  INFO 34598 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@1c24639e{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:27:57.137  INFO 34598 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@49c555c3{/,null,STOPPED}
2022-12-14 16:27:57.147  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:27:57.147  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:27:57.147  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:27:57.147  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:27:57.147  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:27:57.153  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://order)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:27:57.154  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:27:57.179  INFO 34598 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 7s15ms (uptime:8s646ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  15.162 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:27:57+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:28:00.731 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:28:00.738 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:28:00.761 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:28:00.774 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:28:00.777 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:28:00.777 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:28:00.778 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:28:00.779 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:28:00.813 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:28:00.842 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:28:00.845 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:00.888 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:28:00.889 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:28:00.899 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:28:00.927 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:28:00.936 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:00.939 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:28:01.135  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 34746 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:28:01.144  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:28:03.086  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.124 seconds (JVM running for 2.927)
2022-12-14 16:28:03.090  INFO 34746 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:28:03.202  INFO 34746 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-14 16:28:03.202  INFO 34746 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:28:03.202  INFO 34746 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 16:28:03.870  INFO 34746 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-14 16:28:03.871  INFO 34746 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@a302f30], To[mock:middle], To[mock://middle]]]
2022-12-14 16:28:03.875  INFO 34746 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-14 16:28:04.117  INFO 34746 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:28:04.117  INFO 34746 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:28:04.153  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:28:04.219  INFO 34746 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:28:04.316  INFO 34746 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:28:04.319  INFO 34746 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:28:04.338  INFO 34746 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4179ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:28:04.395  INFO 34746 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:28:04.415  INFO 34746 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@71e9640{/,null,AVAILABLE}
2022-12-14 16:28:04.424  INFO 34746 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@727de450{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:04.424  INFO 34746 --- [           main] org.eclipse.jetty.server.Server          : Started @4265ms
2022-12-14 16:28:04.428  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://order)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:28:04.429  INFO 34746 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 607ms (build:57ms init:274ms start:276ms)
2022-12-14 16:28:04.432  INFO 34746 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-14 16:28:05.487  INFO 34746 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:05.729  INFO 34746 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:28:05.731  INFO 34746 --- [2 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:05.746  INFO 34746 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:28:05 +0800 (HKT)
Message-ID: <449360108.5.1671006485746@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_4_1719649681.1671006485746"

------=_Part_4_1719649681.1671006485746
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_4_1719649681.1671006485746--

2022-12-14 16:28:05.747  INFO 34746 --- [2 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:05.752  INFO 34746 --- [2 - timer://foo] route7                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:05.753  INFO 34746 --- [2 - timer://foo] route7                                   : Message headers in grpc: {CamelMessageTimestamp=1671006485752, firedTime=Wed Dec 14 16:28:05 HKT 2022}
2022-12-14 16:28:05.754  INFO 34746 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@5068a27d
2022-12-14 16:28:05.756  INFO 34746 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:28:05 +0800 (HKT)\r\nMessage-ID: <449360108.5.1671006485746@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_1719649681.1671006485746\"\r\n\r\n------=_Part_4_1719649681.1671006485746\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_1719649681.1671006485746--\r\n"

2022-12-14 16:28:05.757  INFO 34746 --- [2 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 16:28:05.760  INFO 34746 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 16:28:05 +0800 (HKT)Message-ID: <1730118850.7.1671006485760@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_837410417.1671006485760"------=_Part_6_837410417.1671006485760Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_837410417.1671006485760--]
2022-12-14 16:28:05.761  INFO 34746 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1671006485752, Date=Wed, 14 Dec 2022 16:28:05 +0800 (HKT), firedTime=Wed Dec 14 16:28:05 HKT 2022}
2022-12-14 16:28:05.766  INFO 34746 --- [0.0:9500/middle] route8                                   : Message body back multipart: Date: Wed, 14 Dec 2022 16:28:05 +0800 (HKT)
Message-ID: <1730118850.7.1671006485760@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_837410417.1671006485760"

------=_Part_6_837410417.1671006485760
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_837410417.1671006485760--

2022-12-14 16:28:05.767  INFO 34746 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:28:05 +0800 (HKT)
Message-ID: <449360108.5.1671006485746@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_4_1719649681.1671006485746"

------=_Part_4_1719649681.1671006485746
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_4_1719649681.1671006485746--

2022-12-14 16:28:05.767  INFO 34746 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:28:05.767  INFO 34746 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 16:28:05.758  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:05.770  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test2MiddleRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:28:05.770  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s555ms (2555 millis)
2022-12-14 16:28:05.773  INFO 34746 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:05.774  INFO 34746 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.164 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:28:05.840  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:28:12.758  INFO 34746 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@727de450{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:12.760  INFO 34746 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@71e9640{/,null,STOPPED}
2022-12-14 16:28:12.774  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:28:12.775  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:28:12.775  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:12.775  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:12.778  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:28:12.781  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://order)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:28:12.782  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:12.783  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:12.783  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:12.783  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:28:12.783  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:12.819  INFO 34746 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 6s979ms (uptime:8s666ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.880 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:28:12+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:28:16.241 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:28:16.248 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:28:16.270 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:28:16.277 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:28:16.279 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:28:16.279 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:28:16.279 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:28:16.280 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:28:16.329 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:28:16.366 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:28:16.368 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:16.418 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:28:16.419 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:28:16.427 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:28:16.459 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:28:16.470 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:16.472 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:28:16.666  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 34887 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:28:16.667  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:28:18.647  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.153 seconds (JVM running for 2.866)
2022-12-14 16:28:18.651  INFO 34887 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:28:18.758  INFO 34887 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-14 16:28:18.759  INFO 34887 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:28:18.759  INFO 34887 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 16:28:19.507  INFO 34887 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:end]] --> after [To[mock://end]]
2022-12-14 16:28:19.507  INFO 34887 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@90394d], Log[Message headers in ending grpc: ${headers}], To[mock:end], To[mock://end]]]
2022-12-14 16:28:19.512  INFO 34887 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock:end"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock:end"/>
    <to uri="mock://end"/>
</route>
2022-12-14 16:28:19.749  INFO 34887 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:28:19.749  INFO 34887 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:28:19.797  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:28:19.847  INFO 34887 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:28:19.944  INFO 34887 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:28:19.947  INFO 34887 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:28:19.962  INFO 34887 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4180ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:28:20.008  INFO 34887 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:28:20.037  INFO 34887 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@74070994{/,null,AVAILABLE}
2022-12-14 16:28:20.046  INFO 34887 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@229c4d34{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:20.046  INFO 34887 --- [           main] org.eclipse.jetty.server.Server          : Started @4265ms
2022-12-14 16:28:20.051  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://order)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:20.052  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:20.053  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:28:20.053  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:20.053  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:28:20.053  INFO 34887 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 622ms (build:84ms init:282ms start:256ms)
2022-12-14 16:28:20.054  INFO 34887 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-14 16:28:21.128  INFO 34887 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:21.408  INFO 34887 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:28:21.411  INFO 34887 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:28:21 +0800 (HKT)
Message-ID: <1135154782.3.1671006501411@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1524915452.1671006501411"

------=_Part_2_1524915452.1671006501411
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1524915452.1671006501411--

2022-12-14 16:28:21.412  INFO 34887 --- [2 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:21.414  INFO 34887 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@2a92a43f
2022-12-14 16:28:21.417  INFO 34887 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:28:21 +0800 (HKT)\r\nMessage-ID: <1135154782.3.1671006501411@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1524915452.1671006501411\"\r\n\r\n------=_Part_2_1524915452.1671006501411\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1524915452.1671006501411--\r\n"

2022-12-14 16:28:21.419  INFO 34887 --- [2 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:21.424  INFO 34887 --- [2 - timer://foo] route7                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:21.425  INFO 34887 --- [2 - timer://foo] route7                                   : Message headers in grpc: {CamelMessageTimestamp=1671006501424, firedTime=Wed Dec 14 16:28:21 HKT 2022}
2022-12-14 16:28:21.425  INFO 34887 --- [2 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 16:28:21.426  INFO 34887 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:28:21 +0800 (HKT)
Message-ID: <1135154782.3.1671006501411@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1524915452.1671006501411"

------=_Part_2_1524915452.1671006501411
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1524915452.1671006501411--

2022-12-14 16:28:21.427  INFO 34887 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:28:21.427  INFO 34887 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 16:28:21.427  INFO 34887 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 16:28:21 +0800 (HKT)Message-ID: <2108568898.7.1671006501427@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_82575929.1671006501427"------=_Part_6_82575929.1671006501427Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_82575929.1671006501427--]
2022-12-14 16:28:21.428  INFO 34887 --- [0.0:9500/middle] route8                                   : Message body back multipart: Date: Wed, 14 Dec 2022 16:28:21 +0800 (HKT)
Message-ID: <2108568898.7.1671006501427@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_82575929.1671006501427"

------=_Part_6_82575929.1671006501427
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_82575929.1671006501427--

2022-12-14 16:28:21.428  INFO 34887 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1671006501424, Date=Wed, 14 Dec 2022 16:28:21 +0800 (HKT), firedTime=Wed Dec 14 16:28:21 HKT 2022}
2022-12-14 16:28:21.443  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:21.444  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test3EndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:28:21.444  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s684ms (2684 millis)
2022-12-14 16:28:21.444  INFO 34887 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:21.444  INFO 34887 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.27 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:28:21.512  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:28:27.443  INFO 34887 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@229c4d34{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:27.445  INFO 34887 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@74070994{/,null,STOPPED}
2022-12-14 16:28:27.461  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:28:27.461  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:28:27.461  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:27.461  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:28:27.462  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://order)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:28:27.463  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:27.476  INFO 34887 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s964ms (uptime:7s679ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.002 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:28:27+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:28:30.625 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:28:30.631 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:28:30.653 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:28:30.660 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:28:30.663 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:28:30.664 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:28:30.664 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:28:30.664 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:28:30.698 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:28:30.727 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:28:30.729 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:30.779 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:28:30.779 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:28:30.789 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:28:30.815 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:28:30.822 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:30.824 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:28:31.012  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 35033 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:28:31.019  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:28:33.302  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.463 seconds (JVM running for 3.228)
2022-12-14 16:28:33.306  INFO 35033 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:28:33.412  INFO 35033 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-14 16:28:33.412  INFO 35033 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:28:33.412  INFO 35033 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 16:28:34.119  INFO 35033 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [process[Processor@0x55315a00]] --> after [To[mock://endgrpc]]
2022-12-14 16:28:34.120  INFO 35033 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x55315a00], To[mock://endgrpc]]]
2022-12-14 16:28:34.122  INFO 35033 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-14 16:28:34.358  INFO 35033 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:28:34.358  INFO 35033 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:28:34.399  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:28:34.438  INFO 35033 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:28:34.549  INFO 35033 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:28:34.550  INFO 35033 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:28:34.585  INFO 35033 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4512ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:28:34.679  INFO 35033 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:28:34.730  INFO 35033 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@5c6be812{/,null,AVAILABLE}
2022-12-14 16:28:34.747  INFO 35033 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@11fa11b2{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:34.748  INFO 35033 --- [           main] org.eclipse.jetty.server.Server          : Started @4675ms
2022-12-14 16:28:34.761  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:28:34.761  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://order)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:34.764  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:28:34.765  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:34.765  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:34.765  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:28:34.765  INFO 35033 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 738ms (build:98ms init:274ms start:366ms)
2022-12-14 16:28:34.771  INFO 35033 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-14 16:28:35.851  INFO 35033 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:36.144  INFO 35033 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:28:36.148  INFO 35033 --- [2 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:36.153  INFO 35033 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:28:36 +0800 (HKT)
Message-ID: <919567605.3.1671006516153@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1051321739.1671006516152"

------=_Part_2_1051321739.1671006516152
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1051321739.1671006516152--

2022-12-14 16:28:36.154  INFO 35033 --- [2 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:36.157  INFO 35033 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@39a979dc
2022-12-14 16:28:36.160  INFO 35033 --- [2 - timer://foo] route7                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:36.161  INFO 35033 --- [2 - timer://foo] route7                                   : Message headers in grpc: {CamelMessageTimestamp=1671006516160, firedTime=Wed Dec 14 16:28:36 HKT 2022}
2022-12-14 16:28:36.161  INFO 35033 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:28:36 +0800 (HKT)\r\nMessage-ID: <919567605.3.1671006516153@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1051321739.1671006516152\"\r\n\r\n------=_Part_2_1051321739.1671006516152\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1051321739.1671006516152--\r\n"

2022-12-14 16:28:36.161  INFO 35033 --- [2 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 16:28:36.164  INFO 35033 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 16:28:36 +0800 (HKT)Message-ID: <1032578447.7.1671006516164@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1203869500.1671006516163"------=_Part_6_1203869500.1671006516163Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1203869500.1671006516163--]
2022-12-14 16:28:36.164  INFO 35033 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1671006516160, Date=Wed, 14 Dec 2022 16:28:36 +0800 (HKT), firedTime=Wed Dec 14 16:28:36 HKT 2022}
2022-12-14 16:28:36.165  INFO 35033 --- [0.0:9500/middle] route8                                   : Message body back multipart: Date: Wed, 14 Dec 2022 16:28:36 +0800 (HKT)
Message-ID: <1032578447.7.1671006516164@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1203869500.1671006516163"

------=_Part_6_1203869500.1671006516163
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1203869500.1671006516163--

2022-12-14 16:28:36.172  INFO 35033 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:28:36 +0800 (HKT)
Message-ID: <919567605.3.1671006516153@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1051321739.1671006516152"

------=_Part_2_1051321739.1671006516152
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1051321739.1671006516152--

2022-12-14 16:28:36.173  INFO 35033 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:28:36.173  INFO 35033 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 16:28:36.184  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:36.184  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test4EndGrpcRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:28:36.184  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s771ms (2771 millis)
2022-12-14 16:28:36.184  INFO 35033 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:36.184  INFO 35033 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.654 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:28:36.264  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:28:43.187  INFO 35033 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@11fa11b2{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:43.189  INFO 35033 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@5c6be812{/,null,STOPPED}
2022-12-14 16:28:43.207  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:28:43.207  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:28:43.207  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:43.207  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:43.207  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:28:43.209  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:43.209  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:43.210  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://order)
2022-12-14 16:28:43.211  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:43.211  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:28:43.211  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:43.212  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:28:43.212  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:43.212  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:43.212  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:28:43.212  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:43.213  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:43.213  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:28:43.213  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:43.219  INFO 35033 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 6s955ms (uptime:8s820ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  15.106 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:28:43+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:28:47.363 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:28:47.368 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:28:47.401 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:28:47.416 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:28:47.422 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:28:47.423 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:28:47.424 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:28:47.425 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:28:47.480 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:28:47.515 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:28:47.517 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:47.576 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:28:47.576 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:28:47.585 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:28:47.603 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:28:47.611 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:28:47.613 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:28:47.923  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 35178 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:28:47.924  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:28:50.429  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.8 seconds (JVM running for 3.652)
2022-12-14 16:28:50.433  INFO 35178 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:28:50.569  INFO 35178 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test5FileRoute
2022-12-14 16:28:50.570  INFO 35178 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:28:50.570  INFO 35178 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 16:28:51.291  INFO 35178 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[file:files/output]] --> after [To[mock://fileEnd]]
2022-12-14 16:28:51.292  INFO 35178 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(httpFIleRoute)[From[seda:netty-http:http://0.0.0.0:8323/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@a302f30], To[file:files/output], To[mock://fileEnd]]]
2022-12-14 16:28:51.297  INFO 35178 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="httpFIleRoute">
    <from uri="seda:netty-http:http://0.0.0.0:8323/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <to uri="file:files/output"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="httpFIleRoute">
    <from uri="seda:netty-http:http://0.0.0.0:8323/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <to uri="file:files/output"/>
    <to uri="mock://fileEnd"/>
</route>
2022-12-14 16:28:51.617  INFO 35178 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:28:51.618  INFO 35178 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:28:51.655  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:28:51.700  INFO 35178 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:28:51.804  INFO 35178 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:28:51.806  INFO 35178 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:28:51.832  INFO 35178 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @5055ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:28:51.882  INFO 35178 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:28:51.902  INFO 35178 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@2c7607e5{/,null,AVAILABLE}
2022-12-14 16:28:51.911  INFO 35178 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@49e92724{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:28:51.912  INFO 35178 --- [           main] org.eclipse.jetty.server.Server          : Started @5135ms
2022-12-14 16:28:51.923  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:28:51.925  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:28:51.926  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:28:51.927  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:28:51.927  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:28:51.928  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:28:51.928  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:28:51.928  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:28:51.928  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:28:51.928  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:28:51.928  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:28:51.929  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:28:51.929  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://order)
2022-12-14 16:28:51.929  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:28:51.929  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:28:51.930  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:28:51.930  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:28:51.930  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:28:51.930  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:28:51.930  INFO 35178 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 717ms (build:85ms init:357ms start:275ms)
2022-12-14 16:28:51.933  INFO 35178 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://fileEnd is satisfied
2022-12-14 16:28:53.015  INFO 35178 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:28:53.149  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:53.149  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test5FileRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:28:53.153  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s579ms (2579 millis)
2022-12-14 16:28:53.153  INFO 35178 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:28:53.153  INFO 35178 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test5FileRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.874 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:28:53.248  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:28:53.265  INFO 35178 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [http2start0 = 1]
2022-12-14 16:28:53.311  INFO 35178 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:28:53.318  INFO 35178 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:28:53 +0800 (HKT)
Message-ID: <1831737280.3.1671006533318@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_813563479.1671006533318"

------=_Part_2_813563479.1671006533318
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_813563479.1671006533318--

2022-12-14 16:28:53.324  INFO 35178 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@310fc32e
2022-12-14 16:28:53.326  INFO 35178 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:28:53 +0800 (HKT)\r\nMessage-ID: <1831737280.3.1671006533318@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_813563479.1671006533318\"\r\n\r\n------=_Part_2_813563479.1671006533318\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_813563479.1671006533318--\r\n"

2022-12-14 16:28:53.334  INFO 35178 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:28:53 +0800 (HKT)
Message-ID: <1831737280.3.1671006533318@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_813563479.1671006533318"

------=_Part_2_813563479.1671006533318
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_813563479.1671006533318--

2022-12-14 16:28:53.334  INFO 35178 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:28:53.334  INFO 35178 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 16:29:01.161  INFO 35178 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@49e92724{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:29:01.162  INFO 35178 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@2c7607e5{/,null,STOPPED}
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://order)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:29:01.175  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:29:01.182  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:29:01.182  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:29:01.182  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:29:01.183  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:29:01.183  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:29:01.190  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:29:01.193  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:29:01.203  INFO 35178 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 7s955ms (uptime:9s548ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  17.028 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:29:01+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
16:29:05.530 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
16:29:05.539 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
16:29:05.573 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
16:29:05.585 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
16:29:05.589 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
16:29:05.591 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
16:29:05.592 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
16:29:05.593 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:29:05.656 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
16:29:05.715 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
16:29:05.721 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:05.807 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
16:29:05.807 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
16:29:05.825 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@767e20cf, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@3a3e78f, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@301ec38b, org.springframework.test.context.web.ServletTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10ded6a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c5dc4a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4a194c39, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52066604, org.springframework.test.context.support.DirtiesContextTestExecutionListener@340b9973, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56113384, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5669c5fb, org.springframework.test.context.event.EventPublishingTestExecutionListener@373ebf74, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a9d6f02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362045c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@112f364d]
16:29:05.848 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54a67a45 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7d42c224 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@503f91c3, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5c86dbc5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@74287ea3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@23bb8443], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
16:29:05.860 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
16:29:05.862 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 16:29:06.172  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 35326 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 16:29:06.173  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 16:29:08.028  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.135 seconds (JVM running for 3.362)
2022-12-14 16:29:08.035  INFO 35326 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 16:29:08.129  INFO 35326 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test6RestFulEndRoute
2022-12-14 16:29:08.129  INFO 35326 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 16:29:08.129  INFO 35326 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
template.sendBodyAndHeader is org.apache.camel.impl.engine.DefaultProducerTemplate@378c48c1
2022-12-14 16:29:08.712  INFO 35326 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith replace input from [direct:order] --> [direct:mockStart]
2022-12-14 16:29:08.714  INFO 35326 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:9501/middle]] --> after [To[mock://restfulStart]]
2022-12-14 16:29:08.715  INFO 35326 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(restStartRoute)[From[direct:mockStart] -> [Log[Message body in rest: ${body}], Log[Message headers in rest: ${headers}], ConvertBodyTo[java.lang.String], To[log:org.apache.camel.example?level=INFO], WireTap[seda:netty-http:http://0.0.0.0:9501/middle], To[mock://restfulStart]]]
2022-12-14 16:29:08.720  INFO 35326 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="restStartRoute">
    <from uri="direct:order"/>
    <log message="Message body in rest: ${body}"/>
    <log message="Message headers in rest: ${headers}"/>
    <convertBodyTo type="java.lang.String"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:9501/middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="restStartRoute">
    <from uri="direct:mockStart"/>
    <log message="Message body in rest: ${body}"/>
    <log message="Message headers in rest: ${headers}"/>
    <convertBodyTo type="java.lang.String"/>
    <to uri="log:org.apache.camel.example?level=INFO"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:9501/middle"/>
    <to uri="mock://restfulStart"/>
</route>
2022-12-14 16:29:08.728  INFO 35326 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [Log[Message headers in ending grpc: ${headers}]] --> after [To[mock://restfulEnd]]
2022-12-14 16:29:08.728  INFO 35326 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2restfulEnd)[From[seda:netty-http:http://0.0.0.0:8125/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@2648aa1b], Log[Message headers in ending grpc: ${headers}], To[mock://restfulEnd]]]
2022-12-14 16:29:08.758  INFO 35326 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2restfulEnd">
    <from uri="seda:netty-http:http://0.0.0.0:8125/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2restfulEnd">
    <from uri="seda:netty-http:http://0.0.0.0:8125/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock://restfulEnd"/>
</route>
2022-12-14 16:29:09.049  INFO 35326 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 16:29:09.049  INFO 35326 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 16:29:09.080  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 16:29:09.123  INFO 35326 --- [           main] o.a.c.component.netty.NettyComponent     : Creating shared NettyConsumerExecutorGroup with 5 threads
2022-12-14 16:29:09.215  INFO 35326 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 16:29:09.219  INFO 35326 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 16:29:09.258  INFO 35326 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4592ms to org.eclipse.jetty.util.log.Slf4jLog
2022-12-14 16:29:09.308  INFO 35326 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.45.v20220203; built: 2022-02-03T09:14:34.105Z; git: 4a0c91c0be53805e3fcffdcdcc9587d5301863db; jvm 17.0.4+8-Debian-1deb11u1
2022-12-14 16:29:09.342  INFO 35326 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@28796d0e{/,null,AVAILABLE}
2022-12-14 16:29:09.351  INFO 35326 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@11fa11b2{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:29:09.351  INFO 35326 --- [           main] org.eclipse.jetty.server.Server          : Started @4686ms
2022-12-14 16:29:09.368  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:18 started:18)
2022-12-14 16:29:09.369  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started restStartRoute (direct://mockStart)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:29:09.370  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (direct://start)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route7 (timer://foo)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 16:29:09.371  INFO 35326 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 670ms (build:58ms init:321ms start:291ms)
2022-12-14 16:29:09.387  INFO 35326 --- [           main] restStartRoute                           : Message body in rest: testing
2022-12-14 16:29:09.392  INFO 35326 --- [           main] restStartRoute                           : Message headers in rest: {me=Donald Duck}
2022-12-14 16:29:09.393  INFO 35326 --- [           main] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: testing]
2022-12-14 16:29:09.400  INFO 35326 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://restfulStart is satisfied
2022-12-14 16:29:09.401  INFO 35326 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://restfulEnd is satisfied
2022-12-14 16:29:10.397  INFO 35326 --- [0.0:9501/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 16:29:10 +0800 (HKT)Message-ID: <979680905.2.1671006550390@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_1_140097489.1671006550357"------=_Part_1_140097489.1671006550357Content-Type: application/octet-streamContent-Transfer-Encoding: binarytesting------=_Part_1_140097489.1671006550357--]
2022-12-14 16:29:10.399  INFO 35326 --- [0.0:9501/middle] route6                                   : Message body back multipart: Date: Wed, 14 Dec 2022 16:29:10 +0800 (HKT)
Message-ID: <979680905.2.1671006550390@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_1_140097489.1671006550357"

------=_Part_1_140097489.1671006550357
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

testing
------=_Part_1_140097489.1671006550357--

2022-12-14 16:29:10.404  INFO 35326 --- [.0.0.0:8125/foo] http2restfulEnd                          : Message headers in ending grpc: {Date=Wed, 14 Dec 2022 16:29:10 +0800 (HKT), me=Donald Duck}
2022-12-14 16:29:10.415  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:29:10.416  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test6RestFulEndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 16:29:10.417  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s285ms (2285 millis)
2022-12-14 16:29:10.417  INFO 35326 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 16:29:10.417  INFO 35326 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test6RestFulEndRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.037 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 16:29:10.561  INFO 35326 --- [2 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 16:29:10.603  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 16:29:10.620  INFO 35326 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [httpFIleRoute = 1, http2start0 = 1]
2022-12-14 16:29:10.802  INFO 35326 --- [2 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 16:29:10.805  INFO 35326 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 16:29:10 +0800 (HKT)
Message-ID: <876562491.5.1671006550805@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_4_974569148.1671006550804"

------=_Part_4_974569148.1671006550804
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_4_974569148.1671006550804--

2022-12-14 16:29:10.811  INFO 35326 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@3285f50c
2022-12-14 16:29:10.812  INFO 35326 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 16:29:10 +0800 (HKT)\r\nMessage-ID: <876562491.5.1671006550805@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_4_974569148.1671006550804\"\r\n\r\n------=_Part_4_974569148.1671006550804\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_4_974569148.1671006550804--\r\n"

2022-12-14 16:29:10.818  INFO 35326 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 16:29:10 +0800 (HKT)
Message-ID: <876562491.5.1671006550805@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_4_974569148.1671006550804"

------=_Part_4_974569148.1671006550804
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_4_974569148.1671006550804--

2022-12-14 16:29:10.818  INFO 35326 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 16:29:10.818  INFO 35326 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 16:29:18.419  INFO 35326 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@11fa11b2{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2022-12-14 16:29:18.425  INFO 35326 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@28796d0e{/,null,STOPPED}
2022-12-14 16:29:18.442  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:18 stopped:18)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route8 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route7 (timer://foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route6 (seda://netty-http:http://0.0.0.0:9501/middle)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (rest://get:hello/%7Bme%7D)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (direct://start)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped restStartRoute (direct://mockStart)
2022-12-14 16:29:18.443  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2restfulEnd (seda://netty-http:http://0.0.0.0:8125/foo)
2022-12-14 16:29:18.452  INFO 35326 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 7s849ms (uptime:9s372ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  16.548 s
[[1;34mINFO[m] Finished at: 2022-12-14T16:29:18+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
