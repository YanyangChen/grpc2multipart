================== testing results ==================
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:48:53.435 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:48:53.442 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:48:53.463 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:48:53.472 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:48:53.475 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:48:53.476 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:48:53.476 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:48:53.476 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:48:53.503 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:48:53.538 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:48:53.540 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:48:53.579 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:48:53.579 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:48:53.595 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:48:53.603 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:48:53.626 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:48:53.643 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:48:53.646 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:48:53.796  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 18525 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:48:53.797  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:48:54.927  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.255 seconds (JVM running for 2.035)
2022-12-14 12:48:54.929  INFO 18525 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:48:54.986  INFO 18525 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
2022-12-14 12:48:54.986  INFO 18525 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:48:54.987  INFO 18525 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:48:55.550  INFO 18525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:grpc://0.0.0.0:19500/middle]] --> after [To[mock://start]]
2022-12-14 12:48:55.551  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start0)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x6f65a203], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], Log[Message body after grpc: ${body}], WireTap[seda:grpc://0.0.0.0:19500/middle], To[mock://start]]]
2022-12-14 12:48:55.555  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <log message="Message body after grpc: ${body}"/>
    <wireTap uri="seda:grpc://0.0.0.0:19500/middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start0">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <log message="Message body after grpc: ${body}"/>
    <wireTap uri="seda:grpc://0.0.0.0:19500/middle"/>
    <to uri="mock://start"/>
</route>
2022-12-14 12:48:55.559  INFO 18525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18123/foo]] --> after [To[mock://middle]]
2022-12-14 12:48:55.559  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle0)[From[seda:grpc://0.0.0.0:19500/middle] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@778197c0], Log[Message body after multipart: ${body}], WireTap[seda:netty-http:http://0.0.0.0:18123/foo], To[mock://middle]]]
2022-12-14 12:48:55.562  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:grpc://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <log message="Message body after multipart: ${body}"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle0">
    <from uri="seda:grpc://0.0.0.0:19500/middle"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <log message="Message body after multipart: ${body}"/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <to uri="mock://middle"/>
</route>
2022-12-14 12:48:55.565  INFO 18525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [WireTap[seda:netty-http:http://0.0.0.0:18124/foo]] --> after [To[mock://end]]
2022-12-14 12:48:55.565  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end0)[From[seda:netty-http:http://0.0.0.0:18123/foo] -> [process[Processor@0x1169fdfd], WireTap[seda:netty-http:http://0.0.0.0:18124/foo], To[mock://end]]]
2022-12-14 12:48:55.567  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end0">
    <from uri="seda:netty-http:http://0.0.0.0:18123/foo"/>
    <process/>
    <wireTap uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <to uri="mock://end"/>
</route>
2022-12-14 12:48:55.570  INFO 18525 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [process[Processor@0x48f4f03e]] --> after [To[mock://endgrpc]]
2022-12-14 12:48:55.570  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x48f4f03e], To[mock://endgrpc]]]
2022-12-14 12:48:55.572  INFO 18525 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-14 12:48:55.726  INFO 18525 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:48:55.726  INFO 18525 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:48:55.727  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:48:55.733  INFO 18525 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:48:55.737  INFO 18525 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:48:55.763  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:48:55.764  INFO 18525 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 257ms (build:66ms init:154ms start:37ms)
2022-12-14 12:48:55.767  INFO 18525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-14 12:48:56.852  INFO 18525 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:48:57.211  INFO 18525 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:48:57.214  INFO 18525 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:48:57.216  INFO 18525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-14 12:48:57.220  INFO 18525 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:48:57 +0800 (HKT)
Message-ID: <221549520.3.1670993337220@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1568660462.1670993337219"

------=_Part_2_1568660462.1670993337219
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1568660462.1670993337219--

2022-12-14 12:48:57.223  INFO 18525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-14 12:48:57.223  INFO 18525 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:48:57.224  INFO 18525 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@5e2db505
2022-12-14 12:48:57.227  INFO 18525 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:48:57 +0800 (HKT)\r\nMessage-ID: <221549520.3.1670993337220@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1568660462.1670993337219\"\r\n\r\n------=_Part_2_1568660462.1670993337219\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1568660462.1670993337219--\r\n"

2022-12-14 12:48:57.228  INFO 18525 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:48:57.228  INFO 18525 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670993337228, firedTime=Wed Dec 14 12:48:57 HKT 2022}
2022-12-14 12:48:57.229  INFO 18525 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:48:57.231  INFO 18525 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:48:57 +0800 (HKT)Message-ID: <2109914209.7.1670993337231@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1575108896.1670993337231"------=_Part_6_1575108896.1670993337231Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1575108896.1670993337231--]
2022-12-14 12:48:57.232  INFO 18525 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670993337228, Date=Wed, 14 Dec 2022 12:48:57 +0800 (HKT), firedTime=Wed Dec 14 12:48:57 HKT 2022}
2022-12-14 12:48:57.232  INFO 18525 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-14 12:48:57.232  INFO 18525 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:48:57 +0800 (HKT)
Message-ID: <2109914209.7.1670993337231@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1575108896.1670993337231"

------=_Part_6_1575108896.1670993337231
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1575108896.1670993337231--

2022-12-14 12:48:57.233  INFO 18525 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:48:57 +0800 (HKT)
Message-ID: <221549520.3.1670993337220@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1568660462.1670993337219"

------=_Part_2_1568660462.1670993337219
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1568660462.1670993337219--

2022-12-14 12:48:57.233  INFO 18525 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:48:57.233  INFO 18525 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:48:57.237  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:48:57.237  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test0HTTP2Route (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:48:57.237  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s250ms (2250 millis)
2022-12-14 12:48:57.237  INFO 18525 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:48:57.237  INFO 18525 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test0HTTP2Route
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.875 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:48:57.278  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:48:57.282  INFO 18525 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [httpFIleRoute = 1]
2022-12-14 12:49:03.253  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:03.254  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:03.257  INFO 18525 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s979ms (uptime:7s530ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  12.363 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:49:03+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:49:07.125 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:49:07.135 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:49:07.162 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:49:07.172 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:49:07.175 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:49:07.175 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:49:07.175 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:49:07.175 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:49:07.208 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:49:07.246 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:49:07.250 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:07.309 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:49:07.309 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:49:07.320 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:49:07.335 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:49:07.379 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:49:07.425 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:07.434 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:49:07.714  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 18645 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:49:07.717  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:49:10.147  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.673 seconds (JVM running for 3.66)
2022-12-14 12:49:10.158  INFO 18645 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:49:10.322  INFO 18645 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-14 12:49:10.323  INFO 18645 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:49:10.323  INFO 18645 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:49:11.227  INFO 18645 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:start]] --> after [To[mock://start]]
2022-12-14 12:49:11.229  INFO 18645 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2start)[From[timer://foo?period=5000&repeatCount=1] -> [process[Processor@0x46188a89], Log[Message body in grpc: ${body}], To[activemq:my-activemq-grpc], ConvertBodyTo[java.lang.String], setExchangePattern[pattern: InOut], To[mock:start], To[mock://start]]]
2022-12-14 12:49:11.233  INFO 18645 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2start">
    <from uri="timer://foo?period=5000&amp;repeatCount=1"/>
    <process/>
    <log message="Message body in grpc: ${body}"/>
    <to uri="activemq:my-activemq-grpc"/>
    <convertBodyTo type="java.lang.String"/>
    <setExchangePattern pattern="InOut"/>
    <to uri="mock:start"/>
    <to uri="mock://start"/>
</route>
2022-12-14 12:49:11.693  INFO 18645 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:49:11.693  INFO 18645 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:49:11.699  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:49:11.718  INFO 18645 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:49:11.719  INFO 18645 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:49:11.783  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:49:11.784  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:49:11.784  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:49:11.784  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:11.787  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:11.787  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:11.787  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:49:11.788  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:11.790  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:11.790  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:49:11.792  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:11.793  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:49:11.793  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:11.793  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:11.796  INFO 18645 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 698ms (build:141ms init:461ms start:96ms)
2022-12-14 12:49:11.806  INFO 18645 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://start is satisfied
2022-12-14 12:49:12.932  INFO 18645 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:13.333  INFO 18645 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:13.344  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:13.344  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test1ClientRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:49:13.344  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 3s21ms (3021 millis)
2022-12-14 12:49:13.344  INFO 18645 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:13.344  INFO 18645 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test1ClientRoute
2022-12-14 12:49:13.346  INFO 18645 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:49:13.354  INFO 18645 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:13.356  INFO 18645 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670993353354, firedTime=Wed Dec 14 12:49:13 HKT 2022}
2022-12-14 12:49:13.356  INFO 18645 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:49:13.357  INFO 18645 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:13.365  INFO 18645 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:49:13 +0800 (HKT)Message-ID: <1262351318.3.1670993353360@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_2_2092562313.1670993353360"------=_Part_2_2092562313.1670993353360Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_2_2092562313.1670993353360--]
2022-12-14 12:49:13.367  INFO 18645 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670993353354, Date=Wed, 14 Dec 2022 12:49:13 +0800 (HKT), firedTime=Wed Dec 14 12:49:13 HKT 2022}
2022-12-14 12:49:13.370  INFO 18645 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:49:13 +0800 (HKT)
Message-ID: <1262351318.3.1670993353360@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_2092562313.1670993353360"

------=_Part_2_2092562313.1670993353360
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_2092562313.1670993353360--

2022-12-14 12:49:13.371  INFO 18645 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:49:13 +0800 (HKT)
Message-ID: <2101333708.7.1670993353371@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_104391606.1670993353371"

------=_Part_6_104391606.1670993353371
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_104391606.1670993353371--

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.296 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:49:13.398  INFO 18645 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@5d500f4b
2022-12-14 12:49:13.400  INFO 18645 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:49:13 +0800 (HKT)\r\nMessage-ID: <2101333708.7.1670993353371@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_6_104391606.1670993353371\"\r\n\r\n------=_Part_6_104391606.1670993353371\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_6_104391606.1670993353371--\r\n"

2022-12-14 12:49:13.413  INFO 18645 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:49:13 +0800 (HKT)
Message-ID: <2101333708.7.1670993353371@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_104391606.1670993353371"

------=_Part_6_104391606.1670993353371
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_104391606.1670993353371--

2022-12-14 12:49:13.413  INFO 18645 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:49:13.414  INFO 18645 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:49:13.426  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:49:19.418  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:49:19.418  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:49:19.419  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:49:19.421  INFO 18645 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s995ms (uptime:7s721ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  15.424 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:49:19+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:49:23.686 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:49:23.696 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:49:23.719 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:49:23.726 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:49:23.729 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:49:23.729 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:49:23.729 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:49:23.742 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:49:23.770 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:49:23.804 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:49:23.805 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:23.868 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:49:23.868 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:49:23.884 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:49:23.893 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:49:23.913 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:49:23.920 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:23.921 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:49:24.132  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 18772 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:49:24.133  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:49:26.452  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 2.513 seconds (JVM running for 3.447)
2022-12-14 12:49:26.461  INFO 18772 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:49:26.570  INFO 18772 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-14 12:49:26.571  INFO 18772 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:49:26.571  INFO 18772 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:49:27.444  INFO 18772 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:middle]] --> after [To[mock://middle]]
2022-12-14 12:49:27.446  INFO 18772 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2middle)[From[seda:netty-http:http://0.0.0.0:9000/foo] -> [Marshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3b2c8bda], To[mock:middle], To[mock://middle]]]
2022-12-14 12:49:27.450  INFO 18772 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2middle">
    <from uri="seda:netty-http:http://0.0.0.0:9000/foo"/>
    <marshal>
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </marshal>
    <to uri="mock:middle"/>
    <to uri="mock://middle"/>
</route>
2022-12-14 12:49:27.675  INFO 18772 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:49:27.676  INFO 18772 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:49:27.679  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:49:27.690  INFO 18772 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:49:27.691  INFO 18772 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:49:27.726  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:49:27.726  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:27.727  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:49:27.727  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:27.728  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:27.728  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:27.728  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:49:27.728  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:27.729  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:27.730  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:49:27.730  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:49:27.730  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:27.730  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:27.730  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:49:27.731  INFO 18772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 476ms (build:200ms init:225ms start:51ms)
2022-12-14 12:49:27.732  INFO 18772 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://middle is satisfied
2022-12-14 12:49:28.816  INFO 18772 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:29.143  INFO 18772 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:49:29.147  INFO 18772 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:49:29 +0800 (HKT)
Message-ID: <814880463.3.1670993369147@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1954505916.1670993369147"

------=_Part_2_1954505916.1670993369147
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1954505916.1670993369147--

2022-12-14 12:49:29.150  INFO 18772 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:29.151  INFO 18772 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@4f70c378
2022-12-14 12:49:29.152  INFO 18772 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:49:29 +0800 (HKT)\r\nMessage-ID: <814880463.3.1670993369147@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1954505916.1670993369147\"\r\n\r\n------=_Part_2_1954505916.1670993369147\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1954505916.1670993369147--\r\n"

2022-12-14 12:49:29.160  INFO 18772 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:49:29 +0800 (HKT)
Message-ID: <814880463.3.1670993369147@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1954505916.1670993369147"

------=_Part_2_1954505916.1670993369147
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1954505916.1670993369147--

2022-12-14 12:49:29.161  INFO 18772 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:49:29.161  INFO 18772 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:49:29.169  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:29.169  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test2MiddleRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:49:29.170  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s598ms (2598 millis)
2022-12-14 12:49:29.170  INFO 18772 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:29.170  INFO 18772 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test2MiddleRoute
2022-12-14 12:49:29.176  INFO 18772 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:29.183  INFO 18772 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:29.185  INFO 18772 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670993369183, firedTime=Wed Dec 14 12:49:29 HKT 2022}
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.579 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:49:29.197  INFO 18772 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:49:29.199  INFO 18772 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:49:29 +0800 (HKT)Message-ID: <1871549822.7.1670993369199@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1249985774.1670993369199"------=_Part_6_1249985774.1670993369199Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1249985774.1670993369199--]
2022-12-14 12:49:29.200  INFO 18772 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:49:29 +0800 (HKT)
Message-ID: <1871549822.7.1670993369199@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1249985774.1670993369199"

------=_Part_6_1249985774.1670993369199
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1249985774.1670993369199--

2022-12-14 12:49:29.201  INFO 18772 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670993369183, Date=Wed, 14 Dec 2022 12:49:29 +0800 (HKT), firedTime=Wed Dec 14 12:49:29 HKT 2022}
2022-12-14 12:49:29.246  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:49:35.189  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:49:35.189  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:49:35.189  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:49:35.190  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:35.195  INFO 18772 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s949ms (uptime:7s516ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.704 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:49:35+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:49:39.030 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:49:39.037 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:49:39.058 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:49:39.066 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:49:39.068 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:49:39.069 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:49:39.069 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:49:39.070 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:49:39.097 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:49:39.131 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:49:39.133 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:39.186 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:49:39.187 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:49:39.192 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:49:39.205 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:49:39.246 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:49:39.257 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:39.262 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:49:39.412  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 18899 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:49:39.413  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:49:40.685  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.405 seconds (JVM running for 2.224)
2022-12-14 12:49:40.689  INFO 18899 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:49:40.771  INFO 18899 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-14 12:49:40.771  INFO 18899 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:49:40.772  INFO 18899 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:49:41.477  INFO 18899 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[mock:end]] --> after [To[mock://end]]
2022-12-14 12:49:41.479  INFO 18899 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2end)[From[seda:netty-http:http://0.0.0.0:8123/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3b2c8bda], Log[Message headers in ending grpc: ${headers}], To[mock:end], To[mock://end]]]
2022-12-14 12:49:41.483  INFO 18899 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock:end"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2end">
    <from uri="seda:netty-http:http://0.0.0.0:8123/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <log message="Message headers in ending grpc: ${headers}"/>
    <to uri="mock:end"/>
    <to uri="mock://end"/>
</route>
2022-12-14 12:49:41.721  INFO 18899 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:49:41.722  INFO 18899 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:49:41.729  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:49:41.737  INFO 18899 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:49:41.744  INFO 18899 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:41.773  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:49:41.774  INFO 18899 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 366ms (build:80ms init:243ms start:43ms)
2022-12-14 12:49:41.778  INFO 18899 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://end is satisfied
2022-12-14 12:49:42.874  INFO 18899 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:43.155  INFO 18899 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:49:43.167  INFO 18899 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:43.172  INFO 18899 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:49:43 +0800 (HKT)
Message-ID: <137257752.3.1670993383172@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1588195811.1670993383172"

------=_Part_2_1588195811.1670993383172
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1588195811.1670993383172--

2022-12-14 12:49:43.174  INFO 18899 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@6f5ba7f1
2022-12-14 12:49:43.179  INFO 18899 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:43.180  INFO 18899 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:49:43 +0800 (HKT)\r\nMessage-ID: <137257752.3.1670993383172@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1588195811.1670993383172\"\r\n\r\n------=_Part_2_1588195811.1670993383172\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1588195811.1670993383172--\r\n"

2022-12-14 12:49:43.186  INFO 18899 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:43.188  INFO 18899 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670993383186, firedTime=Wed Dec 14 12:49:43 HKT 2022}
2022-12-14 12:49:43.188  INFO 18899 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:49:43.190  INFO 18899 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:49:43 +0800 (HKT)Message-ID: <1871549822.7.1670993383190@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1249985774.1670993383190"------=_Part_6_1249985774.1670993383190Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1249985774.1670993383190--]
2022-12-14 12:49:43.191  INFO 18899 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670993383186, Date=Wed, 14 Dec 2022 12:49:43 +0800 (HKT), firedTime=Wed Dec 14 12:49:43 HKT 2022}
2022-12-14 12:49:43.198  INFO 18899 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:49:43 +0800 (HKT)
Message-ID: <1871549822.7.1670993383190@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1249985774.1670993383190"

------=_Part_6_1249985774.1670993383190
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1249985774.1670993383190--

2022-12-14 12:49:43.198  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:43.199  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test3EndRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:49:43.199  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s426ms (2426 millis)
2022-12-14 12:49:43.199  INFO 18899 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:43.199  INFO 18899 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test3EndRoute
2022-12-14 12:49:43.206  INFO 18899 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:49:43 +0800 (HKT)
Message-ID: <137257752.3.1670993383172@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1588195811.1670993383172"

------=_Part_2_1588195811.1670993383172
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1588195811.1670993383172--

2022-12-14 12:49:43.206  INFO 18899 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:49:43.206  INFO 18899 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.241 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:49:43.244  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:49:49.226  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:49:49.226  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:49:49.226  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:49.226  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:49:49.226  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:49.226  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:49:49.228  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:49.230  INFO 18899 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s986ms (uptime:7s500ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  13.376 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:49:49+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:49:52.794 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:49:52.801 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:49:52.825 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:49:52.833 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:49:52.836 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:49:52.837 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:49:52.838 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:49:52.839 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:49:52.909 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:49:52.971 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:49:52.973 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:53.020 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:49:53.020 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:49:53.025 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:49:53.030 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:49:53.051 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:49:53.072 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:49:53.074 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:49:53.277  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 19019 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:49:53.279  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:49:54.797  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.709 seconds (JVM running for 2.63)
2022-12-14 12:49:54.801  INFO 19019 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:49:54.863  INFO 19019 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
2022-12-14 12:49:54.863  INFO 19019 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:49:54.864  INFO 19019 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:49:55.456  INFO 19019 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [process[Processor@0x7fd2a67a]] --> after [To[mock://endgrpc]]
2022-12-14 12:49:55.458  INFO 19019 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(http2endGrpc)[From[seda:netty-http:http://0.0.0.0:18124/foo] -> [process[Processor@0x7fd2a67a], To[mock://endgrpc]]]
2022-12-14 12:49:55.461  INFO 19019 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="http2endGrpc">
    <from uri="seda:netty-http:http://0.0.0.0:18124/foo"/>
    <process/>
    <to uri="mock://endgrpc"/>
</route>
2022-12-14 12:49:55.637  INFO 19019 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:49:55.638  INFO 19019 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:49:55.640  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:49:55.647  INFO 19019 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:49:55.650  INFO 19019 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:49:55.691  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:49:55.692  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:49:55.692  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:49:55.692  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:49:55.692  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:49:55.692  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:49:55.692  INFO 19019 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 302ms (build:75ms init:175ms start:52ms)
2022-12-14 12:49:55.693  INFO 19019 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://endgrpc is satisfied
2022-12-14 12:49:56.778  INFO 19019 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:57.135  INFO 19019 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

2022-12-14 12:49:57.141  INFO 19019 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:57.143  INFO 19019 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:49:57 +0800 (HKT)
Message-ID: <257299262.3.1670993397142@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_394743119.1670993397142"

------=_Part_2_394743119.1670993397142
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_394743119.1670993397142--

2022-12-14 12:49:57.155  INFO 19019 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:57.163  INFO 19019 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@99c6884
2022-12-14 12:49:57.162  INFO 19019 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:49:57.167  INFO 19019 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:49:57 +0800 (HKT)\r\nMessage-ID: <257299262.3.1670993397142@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_394743119.1670993397142\"\r\n\r\n------=_Part_2_394743119.1670993397142\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_394743119.1670993397142--\r\n"

2022-12-14 12:49:57.167  INFO 19019 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670993397161, firedTime=Wed Dec 14 12:49:57 HKT 2022}
2022-12-14 12:49:57.168  INFO 19019 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:49:57.171  INFO 19019 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:49:57 +0800 (HKT)Message-ID: <1772048705.7.1670993397171@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_1404990546.1670993397171"------=_Part_6_1404990546.1670993397171Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_1404990546.1670993397171--]
2022-12-14 12:49:57.171  INFO 19019 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:49:57 +0800 (HKT)
Message-ID: <1772048705.7.1670993397171@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_1404990546.1670993397171"

------=_Part_6_1404990546.1670993397171
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_1404990546.1670993397171--

2022-12-14 12:49:57.172  INFO 19019 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670993397161, Date=Wed, 14 Dec 2022 12:49:57 +0800 (HKT), firedTime=Wed Dec 14 12:49:57 HKT 2022}
2022-12-14 12:49:57.178  INFO 19019 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:49:57 +0800 (HKT)
Message-ID: <257299262.3.1670993397142@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_394743119.1670993397142"

------=_Part_2_394743119.1670993397142
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_394743119.1670993397142--

2022-12-14 12:49:57.178  INFO 19019 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:49:57.178  INFO 19019 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:49:57.192  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:57.195  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test4EndGrpcRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:49:57.196  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s328ms (2328 millis)
2022-12-14 12:49:57.196  INFO 19019 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:49:57.196  INFO 19019 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test4EndGrpcRoute
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.501 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:49:57.260  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:50:03.198  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:50:03.199  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:50:03.199  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:50:03.199  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:50:03.201  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:50:03.204  INFO 19019 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 5s944ms (uptime:7s564ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  13.263 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:50:03+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] Detecting the operating system and CPU architecture
[[1;34mINFO[m] ------------------------------------------------------------------------
[[1;34mINFO[m] os.detected.name: linux
[[1;34mINFO[m] os.detected.arch: x86_64
[[1;34mINFO[m] os.detected.bitness: 64
[[1;34mINFO[m] os.detected.version: 5.19
[[1;34mINFO[m] os.detected.version.major: 5
[[1;34mINFO[m] os.detected.version.minor: 19
[[1;34mINFO[m] os.detected.release: debian
[[1;34mINFO[m] os.detected.release.version: 11
[[1;34mINFO[m] os.detected.release.like.debian: true
[[1;34mINFO[m] os.detected.classifier: linux-x86_64
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--< [0;36morg.apache.camel.springboot.example:camel-example-hello-grpc-test[0;1m >--[m
[[1;34mINFO[m] [1mBuilding Camel SB Examples :: gRPC :: Hello Camel Client 3.16.0[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mprotobuf-maven-plugin:0.6.1:compile-custom[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Skipping compilation because target directory newer than sources.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:resources[m [1m(default-resources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 1 resource
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] Copying 2 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mcamel-package-maven-plugin:3.16.0:prepare-example[m [1m(default)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:compile[m [1m(default-compile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.1.0:testResources[m [1m(default-testResources)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.0:testCompile[m [1m(default-testCompile)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.0.0-M4:test[m [1m(default-test)[m @ [36mcamel-example-hello-grpc-test[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
12:50:07.845 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:50:07.853 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:50:07.891 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:50:07.897 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test], using SpringBootContextLoader
12:50:07.900 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2Test-context.xml] does not exist
12:50:07.900 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: class path resource [org/apache/camel/example/springboot/grpc/SimpleHttp2TestContext.groovy] does not exist
12:50:07.901 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: no resource found for suffixes {-context.xml, Context.groovy}.
12:50:07.901 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]: SimpleHttp2Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:50:07.929 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test]
12:50:07.964 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test/target/classes/org/apache/camel/example/springboot/grpc/Application.class]
12:50:07.974 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.apache.camel.example.springboot.grpc.Application for test class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:50:08.024 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [org.apache.camel.example.springboot.grpc.SimpleHttp2Test].
12:50:08.025 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
12:50:08.030 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:50:08.034 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.apache.camel.test.spring.junit5.CamelSpringTestContextLoaderTestExecutionListener@4ce7fffa, org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener@497486b3, org.apache.camel.test.spring.junit5.StopWatchTestExecutionListener@63f8276e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f95314, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6127a7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495fac5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76012793, org.springframework.test.context.transaction.TransactionalTestExecutionListener@635572a7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79d94571, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dd02341, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3212a8d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a1a3478, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@495b0487, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55dfcc6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@222eb8aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@93cf163]
12:50:08.051 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@260e86a1 testClass = SimpleHttp2Test, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@19648c40 testClass = SimpleHttp2Test, locations = '{}', classes = '{class org.apache.camel.example.springboot.grpc.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@14fc5f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6a8658ff, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@821330f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4f0f2942, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2d0399f4, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2df32bf7], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:50:08.058 [main] INFO org.apache.camel.test.spring.junit5.CamelSpringBootExecutionListener - CamelSpringBootExecutionListener preparing: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test
12:50:08.059 [main] INFO org.apache.camel.test.spring.junit5.CamelAnnotationsHandler - Disabling Camel JMX globally for tests by default.  Use the DisableJMX annotation to override the default setting.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-12-14 12:50:08.241  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Starting SimpleHttp2Test using Java 17.0.4 on debian with PID 19140 (started by root in /home/aaron/pccw/etax-grpc/grpc/children/hello-camel-grpc-test)
2022-12-14 12:50:08.245  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : No active profile set, falling back to 1 default profile: "default"
2022-12-14 12:50:09.483  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Started SimpleHttp2Test in 1.412 seconds (JVM running for 2.428)
2022-12-14 12:50:09.486  INFO 19140 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
2022-12-14 12:50:09.560  INFO 19140 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener before: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test5FileRoute
2022-12-14 12:50:09.561  INFO 19140 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : Initialized CamelSpringBootExecutionListener now ready to start CamelContext
2022-12-14 12:50:09.561  INFO 19140 --- [           main] o.a.c.t.s.j.CamelAnnotationsHandler      : Skipping starting CamelContext(s) as UseAdviceWith annotation was found and isUseAdviceWith is set to true.
2022-12-14 12:50:10.164  INFO 19140 --- [           main] o.apache.camel.builder.AdviceWithTasks   : AdviceWith (*) : [To[file:files/output]] --> after [To[mock://fileEnd]]
2022-12-14 12:50:10.166  INFO 19140 --- [           main] org.apache.camel.builder.AdviceWith      : AdviceWith route after: Route(httpFIleRoute)[From[seda:netty-http:http://0.0.0.0:8323/foo] -> [Unmarshal[org.apache.camel.model.dataformat.MimeMultipartDataFormat@3b2c8bda], To[file:files/output], To[mock://fileEnd]]]
2022-12-14 12:50:10.172  INFO 19140 --- [           main] org.apache.camel.builder.AdviceWith      : Adviced route before/after as XML:
<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="httpFIleRoute">
    <from uri="seda:netty-http:http://0.0.0.0:8323/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <to uri="file:files/output"/>
</route>

<route xmlns="http://camel.apache.org/schema/spring" customId="true" id="httpFIleRoute">
    <from uri="seda:netty-http:http://0.0.0.0:8323/foo"/>
    <unmarshal allowNullBody="false">
        <mimeMultipart binaryContent="true" headersInline="true" includeHeaders="(included|x-.*)" multipartSubType="mixed" multipartWithoutAttachment="true"/>
    </unmarshal>
    <to uri="file:files/output"/>
    <to uri="mock://fileEnd"/>
</route>
2022-12-14 12:50:10.393  INFO 19140 --- [           main] o.a.camel.component.file.FileEndpoint    : Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
2022-12-14 12:50:10.394  INFO 19140 --- [           main] o.a.camel.component.file.FileEndpoint    : Using default memory based idempotent repository with cache max size: 1000
2022-12-14 12:50:10.397  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) is starting
2022-12-14 12:50:10.403  INFO 19140 --- [           main] c.s.b.CamelSpringBootApplicationListener : Starting CamelMainRunController to ensure the main thread keeps running
2022-12-14 12:50:10.409  INFO 19140 --- [inRunController] org.apache.camel.main.MainSupport        : Apache Camel (Main) 3.16.0 is starting
2022-12-14 12:50:10.425  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:13 started:13)
2022-12-14 12:50:10.426  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:50:10.426  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start0 (timer://foo)
2022-12-14 12:50:10.426  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:50:10.426  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:50:10.426  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (file://files/input)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route3 (timer://foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route4 (timer://foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started http2start (timer://foo)
2022-12-14 12:50:10.427  INFO 19140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) started in 377ms (build:123ms init:224ms start:30ms)
2022-12-14 12:50:10.428  INFO 19140 --- [           main] o.a.camel.component.mock.MockEndpoint    : Asserting: mock://fileEnd is satisfied
2022-12-14 12:50:11.577  INFO 19140 --- [0 - timer://foo] http2start0                              : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:50:11.915  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:50:11.916  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Testing done: test5FileRoute (org.apache.camel.example.springboot.grpc.SimpleHttp2Test)
2022-12-14 12:50:11.917  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : Took: 2s353ms (2353 millis)
2022-12-14 12:50:11.917  INFO 19140 --- [           main] o.a.c.e.springboot.grpc.SimpleHttp2Test  : ********************************************************************************
2022-12-14 12:50:11.917  INFO 19140 --- [           main] c.t.s.j.CamelSpringBootExecutionListener : CamelSpringBootExecutionListener after: class org.apache.camel.example.springboot.grpc.SimpleHttp2Test.test5FileRoute
2022-12-14 12:50:11.932  INFO 19140 --- [0 - timer://foo] http2start0                              : Message body after grpc: name: "Camel"
city: "London"

[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.166 s - in org.apache.camel.example.springboot.grpc.[1mSimpleHttp2Test[m
2022-12-14 12:50:11.947  INFO 19140 --- [0 - timer://foo] route3                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:50:11.950  INFO 19140 --- [.0:19500/middle] http2middle0                             : Message body after multipart: Date: Wed, 14 Dec 2022 12:50:11 +0800 (HKT)
Message-ID: <1098290544.3.1670993411950@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1544606154.1670993411950"

------=_Part_2_1544606154.1670993411950
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1544606154.1670993411950--

2022-12-14 12:50:11.958  INFO 19140 --- [0 - timer://foo] http2start                               : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:50:11.964  INFO 19140 --- [0 - timer://foo] route4                                   : Message body in grpc: name: "Camel"
city: "London"

2022-12-14 12:50:11.965  INFO 19140 --- [0 - timer://foo] route4                                   : Message headers in grpc: {CamelMessageTimestamp=1670993411964, firedTime=Wed Dec 14 12:50:11 HKT 2022}
2022-12-14 12:50:11.966  INFO 19140 --- [0 - timer://foo] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: String, Body: name: "Camel"city: "London"]
2022-12-14 12:50:11.967  INFO 19140 --- [0.0:9500/middle] org.apache.camel.example                 : Exchange[ExchangePattern: InOnly, BodyType: byte[], Body: Date: Wed, 14 Dec 2022 12:50:11 +0800 (HKT)Message-ID: <1780573663.7.1670993411967@debian>MIME-Version: 1.0Content-Type: multipart/mixed; 	boundary="----=_Part_6_411907963.1670993411967"------=_Part_6_411907963.1670993411967Content-Type: application/octet-streamContent-Transfer-Encoding: binaryname: "Camel"city: "London"------=_Part_6_411907963.1670993411967--]
2022-12-14 12:50:11.968  INFO 19140 --- [0.0:9500/middle] route5                                   : Message body back multipart: Date: Wed, 14 Dec 2022 12:50:11 +0800 (HKT)
Message-ID: <1780573663.7.1670993411967@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6_411907963.1670993411967"

------=_Part_6_411907963.1670993411967
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_6_411907963.1670993411967--

2022-12-14 12:50:11.968  INFO 19140 --- [.0.0.0:8123/foo] http2end                                 : Message headers in ending grpc: {CamelMessageTimestamp=1670993411964, Date=Wed, 14 Dec 2022 12:50:11 +0800 (HKT), firedTime=Wed Dec 14 12:50:11 HKT 2022}
2022-12-14 12:50:11.969  INFO 19140 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : receivedBody is [B@1e8570ae
2022-12-14 12:50:11.971  INFO 19140 --- [0.0.0:18123/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in grpc content: "Date: Wed, 14 Dec 2022 12:50:11 +0800 (HKT)\r\nMessage-ID: <1098290544.3.1670993411950@debian>\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed; \r\n\tboundary=\"----=_Part_2_1544606154.1670993411950\"\r\n\r\n------=_Part_2_1544606154.1670993411950\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\n\r\nname: \"Camel\"\ncity: \"London\"\n\r\n------=_Part_2_1544606154.1670993411950--\r\n"

2022-12-14 12:50:11.972  INFO 19140 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : Message body back in multipart Date: Wed, 14 Dec 2022 12:50:11 +0800 (HKT)
Message-ID: <1098290544.3.1670993411950@debian>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_2_1544606154.1670993411950"

------=_Part_2_1544606154.1670993411950
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

name: "Camel"
city: "London"

------=_Part_2_1544606154.1670993411950--

2022-12-14 12:50:11.972  INFO 19140 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received Name is Camel
2022-12-14 12:50:11.972  INFO 19140 --- [0.0.0:18124/foo] o.a.c.e.s.grpc.CamelHTTP2EndGrpc         : received City is London
2022-12-14 12:50:12.012  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutting down (timeout:10s)
2022-12-14 12:50:18.927  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:13 stopped:13)
2022-12-14 12:50:18.928  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start (timer://foo)
2022-12-14 12:50:18.929  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end (seda://netty-http:http://0.0.0.0:8123/foo)
2022-12-14 12:50:18.929  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route5 (seda://netty-http:http://0.0.0.0:9500/middle)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route4 (timer://foo)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle (seda://netty-http:http://0.0.0.0:9000/foo)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route3 (timer://foo)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route2 (seda://netty-http:http://0.0.0.0:9200/foo)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped route1 (file://files/input)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2endGrpc (seda://netty-http:http://0.0.0.0:18124/foo)
2022-12-14 12:50:18.930  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2end0 (seda://netty-http:http://0.0.0.0:18123/foo)
2022-12-14 12:50:18.931  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2middle0 (seda://grpc://0.0.0.0:19500/middle)
2022-12-14 12:50:18.931  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped http2start0 (timer://foo)
2022-12-14 12:50:18.931  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped httpFIleRoute (seda://netty-http:http://0.0.0.0:8323/foo)
2022-12-14 12:50:18.932  INFO 19140 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.16.0 (gRPC) shutdown in 6s920ms (uptime:8s535ms)
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;34mINFO[m] [1;32mTests run: 1, Failures: 0, Errors: 0, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  14.825 s
[[1;34mINFO[m] Finished at: 2022-12-14T12:50:18+08:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
